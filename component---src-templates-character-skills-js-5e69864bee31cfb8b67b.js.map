{"version":3,"sources":["webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/gatsby-image/index.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/react-tooltip/node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/react-tooltip/node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack:///./node_modules/react-tooltip/node_modules/uuid/dist/esm-browser/v4.js","webpack:///./node_modules/react-tooltip/dist/index.es.js","webpack:///./src/components/skills/skill-tooltip-ability-effect.js","webpack:///./src/components/skills/skill-tooltip-ability-bullets.js","webpack:///./src/services/tooltip-ability-service.js","webpack:///./src/components/skills/skill-tooltip-ability.js","webpack:///./src/components/skills/skill-icon.js","webpack:///./src/components/skills/skill-single.js","webpack:///./src/components/skills/skill-indent.js","webpack:///./src/components/skills/skill-pair.js","webpack:///./src/components/skills/skill-colour.js","webpack:///./src/services/character-skill-service.js","webpack:///./src/templates/character-skills.js"],"names":["module","exports","arg","copy","fill","readUInt8","normalizeArray","parts","allowAboveRoot","up","i","length","last","splice","unshift","filter","xs","f","res","push","resolve","resolvedPath","resolvedAbsolute","arguments","path","process","cwd","TypeError","charAt","split","p","join","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","slice","call","index","relative","from","to","trim","arr","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","len","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","chdir","dir","umask","_interopRequireDefault","require","__esModule","default","io","_assertThisInitialized2","_inheritsLoose2","_objectWithoutPropertiesLoose2","_extends2","_react","_propTypes","convertProps","props","convertedProps","resolutions","sizes","critical","fixed","fluid","loading","groupByMedia","matchesMedia","_ref","media","isBrowser","window","matchMedia","matches","getImageCacheKey","_ref2","srcData","getCurrentSrcData","src","currentData","isArray","some","image","hasArtDirectionSupport","foundMedia","findIndex","noMedia","imageCache","Object","create","inImageCache","cacheKey","hasNativeLazyLoadSupport","HTMLImageElement","hasIOSupport","IntersectionObserver","WeakMap","generateImageSources","imageVariants","map","_ref3","srcSet","srcSetWebp","createElement","Fragment","key","type","withMedia","without","forEach","variant","generateTracedSVGSources","_ref4","tracedSVG","generateBase64Sources","_ref5","base64","generateNoscriptSource","_ref6","isWebp","listenToIntersections","el","cb","observer","entries","entry","has","target","get","isIntersecting","intersectionRatio","unobserve","delete","rootMargin","observe","set","noscriptImg","alt","width","height","crossOrigin","draggable","Placeholder","forwardRef","ref","generateSources","spreadProps","ariaHidden","baseImage","Img","style","onLoad","onError","otherProps","position","top","left","objectFit","objectPosition","propTypes","object","func","Image","_React$Component","_this","seenBefore","isCritical","addNoScript","fadeIn","useIOSupport","isVisible","state","imgLoaded","imgCached","isHydrated","imageRef","createRef","placeholderRef","handleImageLoaded","bind","handleRef","_proto","componentDidMount","setState","onStartLoad","wasCached","img","current","complete","componentWillUnmount","cleanUpListeners","_this2","imageInCache","currentSrc","render","_convertProps","className","_convertProps$style","_convertProps$imgStyl","imgStyle","_convertProps$placeho","placeholderStyle","placeholderClassName","backgroundColor","durationFadeIn","Tag","itemProp","shouldReveal","shouldFadeIn","imageStyle","opacity","transition","bgColor","delayHideStyle","transitionDelay","imagePlaceholderStyle","placeholderImageProps","overflow","maxWidth","maxHeight","JSON","stringify","paddingBottom","aspectRatio","bottom","right","dangerouslySetInnerHTML","__html","divStyle","display","Component","defaultProps","fixedObject","shape","number","isRequired","string","srcWebp","fluidObject","requireFixedOrFluid","originalPropTypes","propName","componentName","_PropTypes$checkPropT","checkPropTypes","oneOfType","arrayOf","bool","oneOf","_default","ctor","superCtor","super_","constructor","value","enumerable","writable","configurable","TempCtor","getOwnPropertyDescriptors","obj","keys","descriptors","getOwnPropertyDescriptor","formatRegExp","format","isString","objects","inspect","String","replace","x","Number","_","isNull","isObject","deprecate","fn","msg","noDeprecation","warned","throwDeprecation","traceDeprecation","console","trace","error","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","isFunction","ret","primitive","simple","isNumber","formatPrimitive","visibleKeys","hash","val","idx","arrayToHash","getOwnPropertyNames","isError","indexOf","formatError","isRegExp","RegExp","toString","isDate","Date","output","base","braces","toUTCString","l","hasOwnProperty","formatProperty","match","formatArray","pop","reduce","prev","cur","numLinesEst","reduceToSingleString","desc","line","ar","re","objectToString","d","o","pad","n","debuglog","NODE_DEBUG","toUpperCase","test","pid","isNullOrUndefined","isSymbol","isPrimitive","isBuffer","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","log","inherits","origin","add","kCustomPromisifiedSymbol","Symbol","undefined","callbackifyOnRejected","reason","newReason","promisify","original","defineProperty","promiseResolve","promiseReject","promise","Promise","reject","err","setPrototypeOf","getPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","self","then","rej","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rng","byteToHex","buf","offset","bth","options","rnds","random","ii","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_defineProperty","_extends","assign","source","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread2","_getPrototypeOf","__proto__","_setPrototypeOf","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","CONSTANT","HIDE","REBUILD","SHOW","dispatchGlobalEvent","eventName","event","CustomEvent","detail","document","createEvent","initEvent","dispatchEvent","checkStatus","dataEventOff","show","id","isCapture","currentTarget","currentItem","getAttribute","stopPropagation","hideTooltip","setAttribute","setUntargetItems","getTargetArray","showTooltip","targetArray","customListeners","listener","bodyListener","callback","_options$respectEffec","respectEffect","_options$customEvent","customEvent","tip","forId","isCustomEvent","isTargetBelongsToTooltip","getEffect","proxy","makeProxy","findCustomEvents","dataAttribute","events","getBody","getElementsByTagName","getPosition","node","place","desiredPlace","effect","_getDimensions","getDimensions","tipWidth","tipHeight","_getDimensions2","targetWidth","targetHeight","_getCurrentOffset","getCurrentOffset","mouseX","mouseY","defaultOffset","getDefaultPosition","_calculateOffset","calculateOffset","extraOffsetX","extraOffsetY","windowWidth","innerWidth","windowHeight","innerHeight","_getParent","getParent","parentTop","parentLeft","getTipOffsetLeft","offsetX","getTipOffsetTop","offsetY","t","outsideRight","r","getTipOffsetRight","outsideBottom","b","getTipOffsetBottom","outside","outsideLeft","outsideTop","inside","placesList","insideList","newPlace","isNewState","shouldUpdatePlace","newState","parseInt","_node$getBoundingClie","getBoundingClientRect","boundingClientRect","targetTop","targetLeft","_getDimensions3","clientX","clientY","disToMouse","parse","currentParent","computedStyle","getComputedStyle","getPropertyValue","parentElement","getTipContent","children","getContent","multiline","regexp","parseAria","ariaObj","nodeListToArray","nodeList","css","innerHTML","head","appendChild","___$insertStyle","_class","_class2","_temp","defaultColors","dark","text","background","border","arrow","success","warning","info","light","generateTooltipStyle","uuid","customColors","hasBorder","textColor","borderColor","arrowColor","generateStyle","getDefaultPopupColors","getPopupColors","hide","rebuild","globalRebuild","mount","unbindListener","bindListener","globalShow","hasTarget","globalHide","staticMethods","bindWindowEvents","resizeHide","removeEventListener","addEventListener","onWindowResize","unbindWindowEvents","windowListener","ele","customBindListener","_this$state","eventOff","dataEvent","customListener","customUnbindListener","_this$state2","isBodyMode","bodyMode","bindBodyListener","possibleCustomEvents","possibleCustomEventsOff","body","customEvents","customEventsOff","unbindBodyListener","bodyModeListeners","_event","mouseover","mousemove","updateTooltip","mouseout","targetEventOff","_event2","_event3","ReactTooltip","instance","_classCallCheck","extraClass","html","delayHide","delayShow","currentEvent","ariaProps","isEmptyTip","disable","originTooltip","isMultiline","delayShowLoop","delayHideLoop","delayReshow","intervalUpdateContent","subClass","superClass","_inherits","any","insecure","delayUpdate","globalEventOff","afterShow","afterHide","overridePosition","scrollHide","wrapper","clickable","methodArray","method","_this$props","clearTimer","removeScrollListener","tooltipRef","msMatchesSelector","mozMatchesSelector","selector","escaped","element","shadowRoot","querySelectorAll","_this3","_this$props2","unbindBasicListener","isCaptureMode","bindRemovalTracker","_this4","_this$props3","unbindRemovalTracker","content","_this$props4","placeholder","isGlobalCall","_this$props5","switchToSolid","FocusEvent","result","reshowDelay","updateState","addScrollListener","setInterval","_getContent","updatePosition","_this5","getTooltipContent","delayTime","eventTarget","mouseOnToolTip","isInvisible","_this6","isScroll","isMyElement","resetState","listenForTooltipExit","removeListenerForTooltipExit","hideTooltipOnScroll","_this7","clearInterval","_this8","Boolean","find","color","_this9","_this$state3","tooltipClass","hasCustomColors","Wrapper","supportedWrappers","wrapperClassName","htmlContent","nextProps","prevState","newAriaProps","MutationObserver","WebKitMutationObserver","MozMutationObserver","mutations","m1","mutation","m2","removedNodes","childList","subtree","removalTracker","disconnect","SkillTooltipAbilityEffect","ability","label","template","field","isNaN","SkillTooltipAbilityBullets","abilityBullets","unitAbility","service","allAbilityIconsImageSharp","useStaticQuery","rows","bullet","nodes","icon_name","bulletText","replaceInlineIcon","static","row","childImageSharp","textReplacementRegex","imgRegex","locUIEffectRegex","hiddenStats","TooltibAbilityService","skill","data","getAbility","specialAbilityPhase","getSpecialAbilityPhase","abilityPhase","getAbilityPhase","bonusValueUnitAbilities","specialAbilities","abilityEffect","effects","effect_key","includes","bonusValueUnitAbility","edges","unit_ability","getUnitAbility","unitAbilities","allSpecialAbilityToSpecialAbilityPhaseJunctionsTablesTsv","special_ability","allSpecialAbilityPhasesTablesTsv","phase","getLocalisedSourceType","loc","locUnitAbilitySourceType","source_type","getLocalisedAbilityName","locAbilities","allUiTextReplacementsLocTsv","localisedAbilityName","textReplacementKey","textReplacement","getTargetValues","results","numEffectedEnemyUnits","num_effected_enemy_units","numEffectedFriendlyUnits","num_effected_friendly_units","targetInterceptRange","target_intercept_range","affect_self","target_enemies","ai_usage","withPrefix","mapSpecialAbilityPhaseStatEffects","locUnitStatLocalisations","stat","valueText","how","toFixed","positive","effect_type","getAdditionalUIEffectsStats","allUnitAbilitiesToAdditionalUiEffectsJuncsTablesTsv","locAdditionalUIEffects","additionalUIEffects","character_skill_key","Set","colour","description","iconClassname","getFatigueChangeStatEffect","fatigueChangeRatio","fatigue_change_ratio","getAbilityPhaseAttributes","allSpecialAbilityPhaseAttributeEffectsTablesTsv","locUnitAttributes","attribute","imbuedEffect","attribute_type","isStatic","s","getStaticImage","getAbilityIconImage","marginBottom","sharpImg","getAbilityPhasesStatEffects","allSpecialAbilityPhaseStatEffectsTablesTsv","flat","getAbilityTooltipEffects","fatigueChangeStatEffect","additionalUIEffectsStats","abilityPhaseAttributes","abilityPhasesStatEffects","getAbilityBullets","SkillTooltipAbility","TooltipAbilityService","localisedSourceType","abilityTooltipEffects","rechargeTime","recharge_time","activeTime","active_time","targetValues","cost_type","data-stat","SkillIcon","size","transformationCoef","allUnitAbilitiesTablesTsv","allEffectBonusValueUnitAbilityJunctionsTablesTsv","allEffectBundlesImageSharp","localised_name","localised_description","backgroundSize","ceil","imgSize","floor","tooltipDirection","indent","sort","a","data-tip","data-for","isPositiveValueGood","is_positive_value_good","isPositiveEffect","icon","icon_negative","SkillSingle","skills","indentAssociation","1","2","4","5","SkillIndent","isRightSkillShifted","hasOnlyOneSpecSkill","data-skill-key","SkillPair","leftSkill","rightSkill","SkillColour","level","skill_colour","CharacterSkillService","getSkillNodeset","nodesetKey","allCharacterSkillNodeSetsTablesTsv","getTextReplacement","prefix","getSkillNodes","agentSubtypeKey","allCharacterSkillNodesTablesTsv","nodeset","agent_subtype_key","character_skill_node_set_key","tier","mapCharacterSkillLevelToEffects","allEffectsLocTsv","allEffectsTablesTsv","effectData","effectValue","getSkillsForTier","items","allCharacterSkillsTableTsv","allCharacterSkillLevelToEffectsJunctionsTablesTsv","allImageSharp","item","originalName","image_path","getSkillRows","tree","CharacterSkills","pageContext","AgentSubtypeService","characterSkillService","useState","isRawHidden","setIsRawHidden","buttonValue","setButtonValue","jsonClassname","category","getCategoryForSkillNodeset","getOnScreenName","porthole","getPorthole","visible_in_ui","isSingleSkill","onClick","ev","preventDefault","isHidden","query"],"mappings":"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","file":"component---src-templates-character-skills-js-5e69864bee31cfb8b67b.js","sourcesContent":["module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object' && typeof arg.copy === 'function' && typeof arg.fill === 'function' && typeof arg.readUInt8 === 'function';\n};","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  } // if the path is allowed to go above the root, restore leading ..s\n\n\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n} // path.resolve([from ...], to)\n// posix version\n\n\nexports.resolve = function () {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = i >= 0 ? arguments[i] : process.cwd(); // Skip empty and invalid entries\n\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  } // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n  // Normalize the path\n\n\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function (p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n  return (resolvedAbsolute ? '/' : '') + resolvedPath || '.';\n}; // path.normalize(path)\n// posix version\n\n\nexports.normalize = function (path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/'; // Normalize the path\n\n  path = normalizeArray(filter(path.split('/'), function (p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n}; // posix version\n\n\nexports.isAbsolute = function (path) {\n  return path.charAt(0) === '/';\n}; // posix version\n\n\nexports.join = function () {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function (p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n\n    return p;\n  }).join('/'));\n}; // path.relative(from, to)\n// posix version\n\n\nexports.relative = function (from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47\n  /*/*/\n  ;\n  var end = -1;\n  var matchedSlash = true;\n\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n\n    if (code === 47\n    /*/*/\n    ) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47\n    /*/*/\n    ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n} // Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\n\n\nexports.basename = function (path, ext) {\n  var f = basename(path);\n\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n\n  var preDotState = 0;\n\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n\n    if (code === 47\n    /*/*/\n    ) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n\n    if (code === 46\n    /*.*/\n    ) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n      } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n  preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n  preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n\n  return path.slice(startDot, end);\n};\n\nfunction filter(xs, f) {\n  if (xs.filter) return xs.filter(f);\n  var res = [];\n\n  for (var i = 0; i < xs.length; i++) {\n    if (f(xs[i], i, xs)) res.push(xs[i]);\n  }\n\n  return res;\n} // String.prototype.substr - negative index don't work in IE8\n\n\nvar substr = 'ab'.substr(-1) === 'b' ? function (str, start, len) {\n  return str.substr(start, len);\n} : function (str, start, len) {\n  if (start < 0) start = str.length + start;\n  return str.substr(start, len);\n};","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar logDeprecationNotice = function logDeprecationNotice(prop, replacement) {\n  if (process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  console.log(\"\\n    The \\\"\" + prop + \"\\\" prop is now deprecated and will be removed in the next major version\\n    of \\\"gatsby-image\\\".\\n    \");\n\n  if (replacement) {\n    console.log(\"Please use \" + replacement + \" instead of \\\"\" + prop + \"\\\".\");\n  }\n}; // Handle legacy props during their deprecation phase\n\n\nvar convertProps = function convertProps(props) {\n  var convertedProps = (0, _extends2.default)({}, props);\n  var resolutions = convertedProps.resolutions,\n      sizes = convertedProps.sizes,\n      critical = convertedProps.critical;\n\n  if (resolutions) {\n    convertedProps.fixed = resolutions;\n    logDeprecationNotice(\"resolutions\", \"the gatsby-image v2 prop \\\"fixed\\\"\");\n    delete convertedProps.resolutions;\n  }\n\n  if (sizes) {\n    convertedProps.fluid = sizes;\n    logDeprecationNotice(\"sizes\", \"the gatsby-image v2 prop \\\"fluid\\\"\");\n    delete convertedProps.sizes;\n  }\n\n  if (critical) {\n    logDeprecationNotice(\"critical\", \"the native \\\"loading\\\" attribute\");\n    convertedProps.loading = \"eager\";\n  } // convert fluid & fixed to arrays so we only have to work with arrays\n\n\n  if (convertedProps.fluid) {\n    convertedProps.fluid = groupByMedia([].concat(convertedProps.fluid));\n  }\n\n  if (convertedProps.fixed) {\n    convertedProps.fixed = groupByMedia([].concat(convertedProps.fixed));\n  }\n\n  return convertedProps;\n};\n/**\n * Checks if fluid or fixed are art-direction arrays.\n *\n * @param currentData  {{media?: string}[]}   The props to check for images.\n * @return {boolean}\n */\n\n\nvar hasArtDirectionSupport = function hasArtDirectionSupport(currentData) {\n  return !!currentData && Array.isArray(currentData) && currentData.some(function (image) {\n    return typeof image.media !== \"undefined\";\n  });\n};\n/**\n * Tries to detect if a media query matches the current viewport.\n * @property media   {{media?: string}}  A media query string.\n * @return {boolean}\n */\n\n\nvar matchesMedia = function matchesMedia(_ref) {\n  var media = _ref.media;\n  return media ? isBrowser && !!window.matchMedia(media).matches : false;\n};\n/**\n * Find the source of an image to use as a key in the image cache.\n * Use `the first image in either `fixed` or `fluid`\n * @param {{fluid: {src: string, media?: string}[], fixed: {src: string, media?: string}[]}} args\n * @return {string?} Returns image src or undefined it not given.\n */\n\n\nvar getImageCacheKey = function getImageCacheKey(_ref2) {\n  var fluid = _ref2.fluid,\n      fixed = _ref2.fixed;\n  var srcData = getCurrentSrcData(fluid || fixed || []);\n  return srcData && srcData.src;\n};\n/**\n * Returns the current src - Preferably with art-direction support.\n * @param currentData  {{media?: string}[], maxWidth?: Number, maxHeight?: Number}   The fluid or fixed image array.\n * @return {{src: string, media?: string, maxWidth?: Number, maxHeight?: Number}}\n */\n\n\nvar getCurrentSrcData = function getCurrentSrcData(currentData) {\n  if (isBrowser && hasArtDirectionSupport(currentData)) {\n    // Do we have an image for the current Viewport?\n    var foundMedia = currentData.findIndex(matchesMedia);\n\n    if (foundMedia !== -1) {\n      return currentData[foundMedia];\n    } // No media matches, select first element without a media condition\n\n\n    var noMedia = currentData.findIndex(function (image) {\n      return typeof image.media === \"undefined\";\n    });\n\n    if (noMedia !== -1) {\n      return currentData[noMedia];\n    }\n  } // Else return the first image.\n\n\n  return currentData[0];\n}; // Cache if we've seen an image before so we don't bother with\n// lazy-loading & fading in on subsequent mounts.\n\n\nvar imageCache = Object.create({});\n\nvar inImageCache = function inImageCache(props) {\n  var convertedProps = convertProps(props);\n  var cacheKey = getImageCacheKey(convertedProps);\n  return imageCache[cacheKey] || false;\n};\n\nvar activateCacheForImage = function activateCacheForImage(props) {\n  var convertedProps = convertProps(props);\n  var cacheKey = getImageCacheKey(convertedProps);\n\n  if (cacheKey) {\n    imageCache[cacheKey] = true;\n  }\n}; // Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\n\n\nvar hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nvar isBrowser = typeof window !== \"undefined\";\nvar hasIOSupport = isBrowser && window.IntersectionObserver;\nvar io;\nvar listeners = new WeakMap();\n\nfunction getIO() {\n  if (typeof io === \"undefined\" && typeof window !== \"undefined\" && window.IntersectionObserver) {\n    io = new window.IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        if (listeners.has(entry.target)) {\n          var cb = listeners.get(entry.target); // Edge doesn't currently support isIntersecting, so also test for an intersectionRatio > 0\n\n          if (entry.isIntersecting || entry.intersectionRatio > 0) {\n            io.unobserve(entry.target);\n            listeners.delete(entry.target);\n            cb();\n          }\n        }\n      });\n    }, {\n      rootMargin: \"200px\"\n    });\n  }\n\n  return io;\n}\n\nfunction generateImageSources(imageVariants) {\n  return imageVariants.map(function (_ref3) {\n    var src = _ref3.src,\n        srcSet = _ref3.srcSet,\n        srcSetWebp = _ref3.srcSetWebp,\n        media = _ref3.media,\n        sizes = _ref3.sizes;\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, {\n      key: src\n    }, srcSetWebp && /*#__PURE__*/_react.default.createElement(\"source\", {\n      type: \"image/webp\",\n      media: media,\n      srcSet: srcSetWebp,\n      sizes: sizes\n    }), srcSet && /*#__PURE__*/_react.default.createElement(\"source\", {\n      media: media,\n      srcSet: srcSet,\n      sizes: sizes\n    }));\n  });\n} // Return an array ordered by elements having a media prop, does not use\n// native sort, as a stable sort is not guaranteed by all browsers/versions\n\n\nfunction groupByMedia(imageVariants) {\n  var withMedia = [];\n  var without = [];\n  imageVariants.forEach(function (variant) {\n    return (variant.media ? withMedia : without).push(variant);\n  });\n\n  if (without.length > 1 && process.env.NODE_ENV !== \"production\") {\n    console.warn(\"We've found \" + without.length + \" sources without a media property. They might be ignored by the browser, see: https://www.gatsbyjs.org/packages/gatsby-image/#art-directing-multiple-images\");\n  }\n\n  return [].concat(withMedia, without);\n}\n\nfunction generateTracedSVGSources(imageVariants) {\n  return imageVariants.map(function (_ref4) {\n    var src = _ref4.src,\n        media = _ref4.media,\n        tracedSVG = _ref4.tracedSVG;\n    return /*#__PURE__*/_react.default.createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: tracedSVG\n    });\n  });\n}\n\nfunction generateBase64Sources(imageVariants) {\n  return imageVariants.map(function (_ref5) {\n    var src = _ref5.src,\n        media = _ref5.media,\n        base64 = _ref5.base64;\n    return /*#__PURE__*/_react.default.createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: base64\n    });\n  });\n}\n\nfunction generateNoscriptSource(_ref6, isWebp) {\n  var srcSet = _ref6.srcSet,\n      srcSetWebp = _ref6.srcSetWebp,\n      media = _ref6.media,\n      sizes = _ref6.sizes;\n  var src = isWebp ? srcSetWebp : srcSet;\n  var mediaAttr = media ? \"media=\\\"\" + media + \"\\\" \" : \"\";\n  var typeAttr = isWebp ? \"type='image/webp' \" : \"\";\n  var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\" \" : \"\";\n  return \"<source \" + typeAttr + mediaAttr + \"srcset=\\\"\" + src + \"\\\" \" + sizesAttr + \"/>\";\n}\n\nfunction generateNoscriptSources(imageVariants) {\n  return imageVariants.map(function (variant) {\n    return (variant.srcSetWebp ? generateNoscriptSource(variant, true) : \"\") + generateNoscriptSource(variant);\n  }).join(\"\");\n}\n\nvar listenToIntersections = function listenToIntersections(el, cb) {\n  var observer = getIO();\n\n  if (observer) {\n    observer.observe(el);\n    listeners.set(el, cb);\n  }\n\n  return function () {\n    observer.unobserve(el);\n    listeners.delete(el);\n  };\n};\n\nvar noscriptImg = function noscriptImg(props) {\n  // Check if prop exists before adding each attribute to the string output below to prevent\n  // HTML validation issues caused by empty values like width=\"\" and height=\"\"\n  var src = props.src ? \"src=\\\"\" + props.src + \"\\\" \" : \"src=\\\"\\\" \"; // required attribute\n\n  var sizes = props.sizes ? \"sizes=\\\"\" + props.sizes + \"\\\" \" : \"\";\n  var srcSet = props.srcSet ? \"srcset=\\\"\" + props.srcSet + \"\\\" \" : \"\";\n  var title = props.title ? \"title=\\\"\" + props.title + \"\\\" \" : \"\";\n  var alt = props.alt ? \"alt=\\\"\" + props.alt + \"\\\" \" : \"alt=\\\"\\\" \"; // required attribute\n\n  var width = props.width ? \"width=\\\"\" + props.width + \"\\\" \" : \"\";\n  var height = props.height ? \"height=\\\"\" + props.height + \"\\\" \" : \"\";\n  var crossOrigin = props.crossOrigin ? \"crossorigin=\\\"\" + props.crossOrigin + \"\\\" \" : \"\";\n  var loading = props.loading ? \"loading=\\\"\" + props.loading + \"\\\" \" : \"\";\n  var draggable = props.draggable ? \"draggable=\\\"\" + props.draggable + \"\\\" \" : \"\";\n  var sources = generateNoscriptSources(props.imageVariants);\n  return \"<picture>\" + sources + \"<img \" + loading + width + height + sizes + srcSet + src + alt + title + crossOrigin + draggable + \"style=\\\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\\\"/></picture>\";\n}; // Earlier versions of gatsby-image during the 2.x cycle did not wrap\n// the `Img` component in a `picture` element. This maintains compatibility\n// until a breaking change can be introduced in the next major release\n\n\nvar Placeholder = /*#__PURE__*/_react.default.forwardRef(function (props, ref) {\n  var src = props.src,\n      imageVariants = props.imageVariants,\n      generateSources = props.generateSources,\n      spreadProps = props.spreadProps,\n      ariaHidden = props.ariaHidden;\n\n  var baseImage = /*#__PURE__*/_react.default.createElement(Img, (0, _extends2.default)({\n    ref: ref,\n    src: src\n  }, spreadProps, {\n    ariaHidden: ariaHidden\n  }));\n\n  return imageVariants.length > 1 ? /*#__PURE__*/_react.default.createElement(\"picture\", null, generateSources(imageVariants), baseImage) : baseImage;\n});\n\nvar Img = /*#__PURE__*/_react.default.forwardRef(function (props, ref) {\n  var sizes = props.sizes,\n      srcSet = props.srcSet,\n      src = props.src,\n      style = props.style,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      loading = props.loading,\n      draggable = props.draggable,\n      ariaHidden = props.ariaHidden,\n      otherProps = (0, _objectWithoutPropertiesLoose2.default)(props, [\"sizes\", \"srcSet\", \"src\", \"style\", \"onLoad\", \"onError\", \"loading\", \"draggable\", \"ariaHidden\"]);\n  return /*#__PURE__*/_react.default.createElement(\"img\", (0, _extends2.default)({\n    \"aria-hidden\": ariaHidden,\n    sizes: sizes,\n    srcSet: srcSet,\n    src: src\n  }, otherProps, {\n    onLoad: onLoad,\n    onError: onError,\n    ref: ref,\n    loading: loading,\n    draggable: draggable,\n    style: (0, _extends2.default)({\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      objectPosition: \"center\"\n    }, style)\n  }));\n});\n\nImg.propTypes = {\n  style: _propTypes.default.object,\n  onError: _propTypes.default.func,\n  onLoad: _propTypes.default.func\n};\n\nvar Image = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(Image, _React$Component);\n\n  function Image(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // If this image has already been loaded before then we can assume it's\n    // already in the browser cache so it's cheap to just show directly.\n\n    _this.seenBefore = isBrowser && inImageCache(props);\n    _this.isCritical = props.loading === \"eager\" || props.critical;\n    _this.addNoScript = !(_this.isCritical && !props.fadeIn);\n    _this.useIOSupport = !hasNativeLazyLoadSupport && hasIOSupport && !_this.isCritical && !_this.seenBefore;\n    var isVisible = _this.isCritical || isBrowser && (hasNativeLazyLoadSupport || !_this.useIOSupport);\n    _this.state = {\n      isVisible: isVisible,\n      imgLoaded: false,\n      imgCached: false,\n      fadeIn: !_this.seenBefore && props.fadeIn,\n      isHydrated: false\n    };\n    _this.imageRef = /*#__PURE__*/_react.default.createRef();\n    _this.placeholderRef = props.placeholderRef || /*#__PURE__*/_react.default.createRef();\n    _this.handleImageLoaded = _this.handleImageLoaded.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.setState({\n      isHydrated: isBrowser\n    });\n\n    if (this.state.isVisible && typeof this.props.onStartLoad === \"function\") {\n      this.props.onStartLoad({\n        wasCached: inImageCache(this.props)\n      });\n    }\n\n    if (this.isCritical) {\n      var img = this.imageRef.current;\n\n      if (img && img.complete) {\n        this.handleImageLoaded();\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.cleanUpListeners) {\n      this.cleanUpListeners();\n    }\n  } // Specific to IntersectionObserver based lazy-load support\n  ;\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.useIOSupport && ref) {\n      this.cleanUpListeners = listenToIntersections(ref, function () {\n        var imageInCache = inImageCache(_this2.props);\n\n        if (!_this2.state.isVisible && typeof _this2.props.onStartLoad === \"function\") {\n          _this2.props.onStartLoad({\n            wasCached: imageInCache\n          });\n        } // imgCached and imgLoaded must update after isVisible,\n        // Once isVisible is true, imageRef becomes accessible, which imgCached needs access to.\n        // imgLoaded and imgCached are in a 2nd setState call to be changed together,\n        // avoiding initiating unnecessary animation frames from style changes.\n\n\n        _this2.setState({\n          isVisible: true\n        }, function () {\n          _this2.setState({\n            imgLoaded: imageInCache,\n            // `currentSrc` should be a string, but can be `undefined` in IE,\n            // !! operator validates the value is not undefined/null/\"\"\n            // for lazyloaded components this might be null\n            // TODO fix imgCached behaviour as it's now false when it's lazyloaded\n            imgCached: !!(_this2.imageRef.current && _this2.imageRef.current.currentSrc)\n          });\n        });\n      });\n    }\n  };\n\n  _proto.handleImageLoaded = function handleImageLoaded() {\n    activateCacheForImage(this.props);\n    this.setState({\n      imgLoaded: true\n    });\n\n    if (this.props.onLoad) {\n      this.props.onLoad();\n    }\n  };\n\n  _proto.render = function render() {\n    var _convertProps = convertProps(this.props),\n        title = _convertProps.title,\n        alt = _convertProps.alt,\n        className = _convertProps.className,\n        _convertProps$style = _convertProps.style,\n        style = _convertProps$style === void 0 ? {} : _convertProps$style,\n        _convertProps$imgStyl = _convertProps.imgStyle,\n        imgStyle = _convertProps$imgStyl === void 0 ? {} : _convertProps$imgStyl,\n        _convertProps$placeho = _convertProps.placeholderStyle,\n        placeholderStyle = _convertProps$placeho === void 0 ? {} : _convertProps$placeho,\n        placeholderClassName = _convertProps.placeholderClassName,\n        fluid = _convertProps.fluid,\n        fixed = _convertProps.fixed,\n        backgroundColor = _convertProps.backgroundColor,\n        durationFadeIn = _convertProps.durationFadeIn,\n        Tag = _convertProps.Tag,\n        itemProp = _convertProps.itemProp,\n        loading = _convertProps.loading,\n        draggable = _convertProps.draggable;\n\n    var imageVariants = fluid || fixed; // Abort early if missing image data (#25371)\n\n    if (!imageVariants) {\n      return null;\n    }\n\n    var shouldReveal = this.state.fadeIn === false || this.state.imgLoaded;\n    var shouldFadeIn = this.state.fadeIn === true && !this.state.imgCached;\n    var imageStyle = (0, _extends2.default)({\n      opacity: shouldReveal ? 1 : 0,\n      transition: shouldFadeIn ? \"opacity \" + durationFadeIn + \"ms\" : \"none\"\n    }, imgStyle);\n    var bgColor = typeof backgroundColor === \"boolean\" ? \"lightgray\" : backgroundColor;\n    var delayHideStyle = {\n      transitionDelay: durationFadeIn + \"ms\"\n    };\n    var imagePlaceholderStyle = (0, _extends2.default)({\n      opacity: this.state.imgLoaded ? 0 : 1\n    }, shouldFadeIn && delayHideStyle, imgStyle, placeholderStyle);\n    var placeholderImageProps = {\n      title: title,\n      alt: !this.state.isVisible ? alt : \"\",\n      style: imagePlaceholderStyle,\n      className: placeholderClassName,\n      itemProp: itemProp\n    }; // Initial client render state needs to match SSR until hydration finishes.\n    // Once hydration completes, render again to update to the correct image.\n    // `imageVariants` is always an Array type at this point due to `convertProps()`\n\n    var image = !this.state.isHydrated ? imageVariants[0] : getCurrentSrcData(imageVariants);\n\n    if (fluid) {\n      return /*#__PURE__*/_react.default.createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: (0, _extends2.default)({\n          position: \"relative\",\n          overflow: \"hidden\",\n          maxWidth: image.maxWidth ? image.maxWidth + \"px\" : null,\n          maxHeight: image.maxHeight ? image.maxHeight + \"px\" : null\n        }, style),\n        ref: this.handleRef,\n        key: \"fluid-\" + JSON.stringify(image.srcSet)\n      }, /*#__PURE__*/_react.default.createElement(Tag, {\n        \"aria-hidden\": true,\n        style: {\n          width: \"100%\",\n          paddingBottom: 100 / image.aspectRatio + \"%\"\n        }\n      }), bgColor && /*#__PURE__*/_react.default.createElement(Tag, {\n        \"aria-hidden\": true,\n        title: title,\n        style: (0, _extends2.default)({\n          backgroundColor: bgColor,\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          right: 0,\n          left: 0\n        }, shouldFadeIn && delayHideStyle)\n      }), image.base64 && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateBase64Sources\n      }), image.tracedSVG && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && /*#__PURE__*/_react.default.createElement(\"picture\", null, generateImageSources(imageVariants), /*#__PURE__*/_react.default.createElement(Img, {\n        alt: alt,\n        title: title,\n        sizes: image.sizes,\n        src: image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && /*#__PURE__*/_react.default.createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2.default)({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, image, {\n            imageVariants: imageVariants\n          }))\n        }\n      }));\n    }\n\n    if (fixed) {\n      var divStyle = (0, _extends2.default)({\n        position: \"relative\",\n        overflow: \"hidden\",\n        display: \"inline-block\",\n        width: image.width,\n        height: image.height\n      }, style);\n\n      if (style.display === \"inherit\") {\n        delete divStyle.display;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: divStyle,\n        ref: this.handleRef,\n        key: \"fixed-\" + JSON.stringify(image.srcSet)\n      }, bgColor && /*#__PURE__*/_react.default.createElement(Tag, {\n        \"aria-hidden\": true,\n        title: title,\n        style: (0, _extends2.default)({\n          backgroundColor: bgColor,\n          width: image.width,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          height: image.height\n        }, shouldFadeIn && delayHideStyle)\n      }), image.base64 && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateBase64Sources\n      }), image.tracedSVG && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && /*#__PURE__*/_react.default.createElement(\"picture\", null, generateImageSources(imageVariants), /*#__PURE__*/_react.default.createElement(Img, {\n        alt: alt,\n        title: title,\n        width: image.width,\n        height: image.height,\n        sizes: image.sizes,\n        src: image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && /*#__PURE__*/_react.default.createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2.default)({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, image, {\n            imageVariants: imageVariants\n          }))\n        }\n      }));\n    }\n\n    return null;\n  };\n\n  return Image;\n}(_react.default.Component);\n\nImage.defaultProps = {\n  fadeIn: true,\n  durationFadeIn: 500,\n  alt: \"\",\n  Tag: \"div\",\n  // We set it to `lazy` by default because it's best to default to a performant\n  // setting and let the user \"opt out\" to `eager`\n  loading: \"lazy\"\n};\n\nvar fixedObject = _propTypes.default.shape({\n  width: _propTypes.default.number.isRequired,\n  height: _propTypes.default.number.isRequired,\n  src: _propTypes.default.string.isRequired,\n  srcSet: _propTypes.default.string.isRequired,\n  base64: _propTypes.default.string,\n  tracedSVG: _propTypes.default.string,\n  srcWebp: _propTypes.default.string,\n  srcSetWebp: _propTypes.default.string,\n  media: _propTypes.default.string\n});\n\nvar fluidObject = _propTypes.default.shape({\n  aspectRatio: _propTypes.default.number.isRequired,\n  src: _propTypes.default.string.isRequired,\n  srcSet: _propTypes.default.string.isRequired,\n  sizes: _propTypes.default.string.isRequired,\n  base64: _propTypes.default.string,\n  tracedSVG: _propTypes.default.string,\n  srcWebp: _propTypes.default.string,\n  srcSetWebp: _propTypes.default.string,\n  media: _propTypes.default.string,\n  maxWidth: _propTypes.default.number,\n  maxHeight: _propTypes.default.number\n});\n\nfunction requireFixedOrFluid(originalPropTypes) {\n  return function (props, propName, componentName) {\n    var _PropTypes$checkPropT;\n\n    if (!props.fixed && !props.fluid) {\n      throw new Error(\"The prop `fluid` or `fixed` is marked as required in `\" + componentName + \"`, but their values are both `undefined`.\");\n    }\n\n    _propTypes.default.checkPropTypes((_PropTypes$checkPropT = {}, _PropTypes$checkPropT[propName] = originalPropTypes, _PropTypes$checkPropT), props, \"prop\", componentName);\n  };\n} // If you modify these propTypes, please don't forget to update following files as well:\n// https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-image/index.d.ts\n// https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-image/README.md#gatsby-image-props\n// https://github.com/gatsbyjs/gatsby/blob/master/docs/docs/gatsby-image.md#gatsby-image-props\n\n\nImage.propTypes = {\n  resolutions: fixedObject,\n  sizes: fluidObject,\n  fixed: requireFixedOrFluid(_propTypes.default.oneOfType([fixedObject, _propTypes.default.arrayOf(fixedObject)])),\n  fluid: requireFixedOrFluid(_propTypes.default.oneOfType([fluidObject, _propTypes.default.arrayOf(fluidObject)])),\n  fadeIn: _propTypes.default.bool,\n  durationFadeIn: _propTypes.default.number,\n  title: _propTypes.default.string,\n  alt: _propTypes.default.string,\n  className: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\n  // Support Glamor's css prop.\n  critical: _propTypes.default.bool,\n  crossOrigin: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  style: _propTypes.default.object,\n  imgStyle: _propTypes.default.object,\n  placeholderStyle: _propTypes.default.object,\n  placeholderClassName: _propTypes.default.string,\n  backgroundColor: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  onLoad: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onStartLoad: _propTypes.default.func,\n  Tag: _propTypes.default.string,\n  itemProp: _propTypes.default.string,\n  loading: _propTypes.default.oneOf([\"auto\", \"lazy\", \"eager\"]),\n  draggable: _propTypes.default.bool\n};\nvar _default = Image;\nexports.default = _default;","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n\n    var TempCtor = function TempCtor() {};\n\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors(obj) {\n  var keys = Object.keys(obj);\n  var descriptors = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n  }\n\n  return descriptors;\n};\n\nvar formatRegExp = /%[sdj%]/g;\n\nexports.format = function (f) {\n  if (!isString(f)) {\n    var objects = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function (x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n\n    switch (x) {\n      case '%s':\n        return String(args[i++]);\n\n      case '%d':\n        return Number(args[i++]);\n\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n\n      default:\n        return x;\n    }\n  });\n\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n\n  return str;\n}; // Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\n\n\nexports.deprecate = function (fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  } // Allow for deprecating things in the process of starting up.\n\n\n  if (typeof process === 'undefined') {\n    return function () {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n\n      warned = true;\n    }\n\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\nvar debugs = {};\nvar debugEnviron;\n\nexports.debuglog = function (set) {\n  if (isUndefined(debugEnviron)) debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n\n      debugs[set] = function () {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function () {};\n    }\n  }\n\n  return debugs[set];\n};\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n\n/* legacy: obj, showHidden, depth, colors*/\n\n\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  }; // legacy...\n\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  } // set default options\n\n\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\n\nexports.inspect = inspect; // http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\n\ninspect.colors = {\n  'bold': [1, 22],\n  'italic': [3, 23],\n  'underline': [4, 24],\n  'inverse': [7, 27],\n  'white': [37, 39],\n  'grey': [90, 39],\n  'black': [30, 39],\n  'blue': [34, 39],\n  'cyan': [36, 39],\n  'green': [32, 39],\n  'magenta': [35, 39],\n  'red': [31, 39],\n  'yellow': [33, 39]\n}; // Don't use 'blue' not visible on cmd.exe\n\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return \"\\x1B[\" + inspect.colors[style][0] + 'm' + str + \"\\x1B[\" + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\nfunction arrayToHash(array) {\n  var hash = {};\n  array.forEach(function (val, idx) {\n    hash[val] = true;\n  });\n  return hash;\n}\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special\n  value.inspect !== exports.inspect && // Also filter out any prototype objects using the circular check.\n  !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n\n    return ret;\n  } // Primitive types cannot have properties\n\n\n  var primitive = formatPrimitive(ctx, value);\n\n  if (primitive) {\n    return primitive;\n  } // Look up the keys of the object.\n\n\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  } // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n\n\n  if (isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  } // Some type of object without properties can be shortcutted.\n\n\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '',\n      array = false,\n      braces = ['{', '}']; // Make Array say that they are Array\n\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  } // Make functions say that they are functions\n\n\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  } // Make RegExps say that they are RegExps\n\n\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  } // Make dates with properties first say the date\n\n\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  } // Make error with message first say the error\n\n\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n  var output;\n\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function (key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n  return reduceToSingleString(output, base, braces);\n}\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '').replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n\n  if (isNumber(value)) return ctx.stylize('' + value, 'number');\n  if (isBoolean(value)) return ctx.stylize('' + value, 'boolean'); // For some reason typeof null is \"object\", so special case here.\n\n  if (isNull(value)) return ctx.stylize('null', 'null');\n}\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n\n  keys.forEach(function (key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));\n    }\n  });\n  return output;\n}\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || {\n    value: value[key]\n  };\n\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function (line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function (line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n\n    name = JSON.stringify('' + key);\n\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"').replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function (prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] + (base === '' ? '' : base + '\\n ') + ' ' + output.join(',\\n  ') + ' ' + braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n} // NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\n\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\n\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\n\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\n\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\n\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\n\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\n\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\n\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);\n}\n\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || typeof arg === 'symbol' || // ES6 symbol\n  typeof arg === 'undefined';\n}\n\nexports.isPrimitive = isPrimitive;\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; // 26 Feb 16:19:34\n\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()), pad(d.getMinutes()), pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n} // log is just a thin wrapper to console.log that prepends a timestamp\n\n\nexports.log = function () {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\n\n\nexports.inherits = require('inherits');\n\nexports._extend = function (origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n  var keys = Object.keys(add);\n  var i = keys.length;\n\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function') throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn,\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n    var args = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  });\n  return Object.defineProperties(fn, getOwnPropertyDescriptors(original));\n};\n\nexports.promisify.custom = kCustomPromisifiedSymbol;\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  } // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n\n\n  function callbackified() {\n    var args = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n\n    var self = this;\n\n    var cb = function cb() {\n      return maybeCb.apply(self, arguments);\n    }; // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n\n\n    original.apply(this, args).then(function (ret) {\n      process.nextTick(cb, null, ret);\n    }, function (rej) {\n      process.nextTick(callbackifyOnRejected, rej, cb);\n    });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified, getOwnPropertyDescriptors(original));\n  return callbackified;\n}\n\nexports.callbackify = callbackify;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","function ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n  return css;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { v4 } from 'uuid';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nvar CONSTANT = {\n  GLOBAL: {\n    HIDE: '__react_tooltip_hide_event',\n    REBUILD: '__react_tooltip_rebuild_event',\n    SHOW: '__react_tooltip_show_event'\n  }\n};\n/**\n * Static methods for react-tooltip\n */\n\nvar dispatchGlobalEvent = function dispatchGlobalEvent(eventName, opts) {\n  // Compatible with IE\n  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n  var event;\n\n  if (typeof window.CustomEvent === 'function') {\n    event = new window.CustomEvent(eventName, {\n      detail: opts\n    });\n  } else {\n    event = document.createEvent('Event');\n    event.initEvent(eventName, false, true, opts);\n  }\n\n  window.dispatchEvent(event);\n};\n\nfunction staticMethods(target) {\n  /**\n   * Hide all tooltip\n   * @trigger ReactTooltip.hide()\n   */\n  target.hide = function (target) {\n    dispatchGlobalEvent(CONSTANT.GLOBAL.HIDE, {\n      target: target\n    });\n  };\n  /**\n   * Rebuild all tooltip\n   * @trigger ReactTooltip.rebuild()\n   */\n\n\n  target.rebuild = function () {\n    dispatchGlobalEvent(CONSTANT.GLOBAL.REBUILD);\n  };\n  /**\n   * Show specific tooltip\n   * @trigger ReactTooltip.show()\n   */\n\n\n  target.show = function (target) {\n    dispatchGlobalEvent(CONSTANT.GLOBAL.SHOW, {\n      target: target\n    });\n  };\n\n  target.prototype.globalRebuild = function () {\n    if (this.mount) {\n      this.unbindListener();\n      this.bindListener();\n    }\n  };\n\n  target.prototype.globalShow = function (event) {\n    if (this.mount) {\n      var hasTarget = event && event.detail && event.detail.target && true || false; // Create a fake event, specific show will limit the type to `solid`\n      // only `float` type cares e.clientX e.clientY\n\n      this.showTooltip({\n        currentTarget: hasTarget && event.detail.target\n      }, true);\n    }\n  };\n\n  target.prototype.globalHide = function (event) {\n    if (this.mount) {\n      var hasTarget = event && event.detail && event.detail.target && true || false;\n      this.hideTooltip({\n        currentTarget: hasTarget && event.detail.target\n      }, hasTarget);\n    }\n  };\n}\n/**\n * Events that should be bound to the window\n */\n\n\nfunction windowListener(target) {\n  target.prototype.bindWindowEvents = function (resizeHide) {\n    // ReactTooltip.hide\n    window.removeEventListener(CONSTANT.GLOBAL.HIDE, this.globalHide);\n    window.addEventListener(CONSTANT.GLOBAL.HIDE, this.globalHide, false); // ReactTooltip.rebuild\n\n    window.removeEventListener(CONSTANT.GLOBAL.REBUILD, this.globalRebuild);\n    window.addEventListener(CONSTANT.GLOBAL.REBUILD, this.globalRebuild, false); // ReactTooltip.show\n\n    window.removeEventListener(CONSTANT.GLOBAL.SHOW, this.globalShow);\n    window.addEventListener(CONSTANT.GLOBAL.SHOW, this.globalShow, false); // Resize\n\n    if (resizeHide) {\n      window.removeEventListener('resize', this.onWindowResize);\n      window.addEventListener('resize', this.onWindowResize, false);\n    }\n  };\n\n  target.prototype.unbindWindowEvents = function () {\n    window.removeEventListener(CONSTANT.GLOBAL.HIDE, this.globalHide);\n    window.removeEventListener(CONSTANT.GLOBAL.REBUILD, this.globalRebuild);\n    window.removeEventListener(CONSTANT.GLOBAL.SHOW, this.globalShow);\n    window.removeEventListener('resize', this.onWindowResize);\n  };\n  /**\n   * invoked by resize event of window\n   */\n\n\n  target.prototype.onWindowResize = function () {\n    if (!this.mount) return;\n    this.hideTooltip();\n  };\n}\n/**\n * Custom events to control showing and hiding of tooltip\n *\n * @attributes\n * - `event` {String}\n * - `eventOff` {String}\n */\n\n\nvar checkStatus = function checkStatus(dataEventOff, e) {\n  var show = this.state.show;\n  var id = this.props.id;\n  var isCapture = this.isCapture(e.currentTarget);\n  var currentItem = e.currentTarget.getAttribute('currentItem');\n  if (!isCapture) e.stopPropagation();\n\n  if (show && currentItem === 'true') {\n    if (!dataEventOff) this.hideTooltip(e);\n  } else {\n    e.currentTarget.setAttribute('currentItem', 'true');\n    setUntargetItems(e.currentTarget, this.getTargetArray(id));\n    this.showTooltip(e);\n  }\n};\n\nvar setUntargetItems = function setUntargetItems(currentTarget, targetArray) {\n  for (var i = 0; i < targetArray.length; i++) {\n    if (currentTarget !== targetArray[i]) {\n      targetArray[i].setAttribute('currentItem', 'false');\n    } else {\n      targetArray[i].setAttribute('currentItem', 'true');\n    }\n  }\n};\n\nvar customListeners = {\n  id: '9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf',\n  set: function set(target, event, listener) {\n    if (this.id in target) {\n      var map = target[this.id];\n      map[event] = listener;\n    } else {\n      // this is workaround for WeakMap, which is not supported in older browsers, such as IE\n      Object.defineProperty(target, this.id, {\n        configurable: true,\n        value: _defineProperty({}, event, listener)\n      });\n    }\n  },\n  get: function get(target, event) {\n    var map = target[this.id];\n\n    if (map !== undefined) {\n      return map[event];\n    }\n  }\n};\n\nfunction customEvent(target) {\n  target.prototype.isCustomEvent = function (ele) {\n    var event = this.state.event;\n    return event || !!ele.getAttribute('data-event');\n  };\n  /* Bind listener for custom event */\n\n\n  target.prototype.customBindListener = function (ele) {\n    var _this = this;\n\n    var _this$state = this.state,\n        event = _this$state.event,\n        eventOff = _this$state.eventOff;\n    var dataEvent = ele.getAttribute('data-event') || event;\n    var dataEventOff = ele.getAttribute('data-event-off') || eventOff;\n    dataEvent.split(' ').forEach(function (event) {\n      ele.removeEventListener(event, customListeners.get(ele, event));\n      var customListener = checkStatus.bind(_this, dataEventOff);\n      customListeners.set(ele, event, customListener);\n      ele.addEventListener(event, customListener, false);\n    });\n\n    if (dataEventOff) {\n      dataEventOff.split(' ').forEach(function (event) {\n        ele.removeEventListener(event, _this.hideTooltip);\n        ele.addEventListener(event, _this.hideTooltip, false);\n      });\n    }\n  };\n  /* Unbind listener for custom event */\n\n\n  target.prototype.customUnbindListener = function (ele) {\n    var _this$state2 = this.state,\n        event = _this$state2.event,\n        eventOff = _this$state2.eventOff;\n    var dataEvent = event || ele.getAttribute('data-event');\n    var dataEventOff = eventOff || ele.getAttribute('data-event-off');\n    ele.removeEventListener(dataEvent, customListeners.get(ele, event));\n    if (dataEventOff) ele.removeEventListener(dataEventOff, this.hideTooltip);\n  };\n}\n/**\n * Util method to judge if it should follow capture model\n */\n\n\nfunction isCapture(target) {\n  target.prototype.isCapture = function (currentTarget) {\n    return currentTarget && currentTarget.getAttribute('data-iscapture') === 'true' || this.props.isCapture || false;\n  };\n}\n/**\n * Util method to get effect\n */\n\n\nfunction getEffect(target) {\n  target.prototype.getEffect = function (currentTarget) {\n    var dataEffect = currentTarget.getAttribute('data-effect');\n    return dataEffect || this.props.effect || 'float';\n  };\n}\n/**\n * Util method to get effect\n */\n\n\nvar makeProxy = function makeProxy(e) {\n  var proxy = {};\n\n  for (var key in e) {\n    if (typeof e[key] === 'function') {\n      proxy[key] = e[key].bind(e);\n    } else {\n      proxy[key] = e[key];\n    }\n  }\n\n  return proxy;\n};\n\nvar bodyListener = function bodyListener(callback, options, e) {\n  var _options$respectEffec = options.respectEffect,\n      respectEffect = _options$respectEffec === void 0 ? false : _options$respectEffec,\n      _options$customEvent = options.customEvent,\n      customEvent = _options$customEvent === void 0 ? false : _options$customEvent;\n  var id = this.props.id;\n  var tip = e.target.getAttribute('data-tip') || null;\n  var forId = e.target.getAttribute('data-for') || null;\n  var target = e.target;\n\n  if (this.isCustomEvent(target) && !customEvent) {\n    return;\n  }\n\n  var isTargetBelongsToTooltip = id == null && forId == null || forId === id;\n\n  if (tip != null && (!respectEffect || this.getEffect(target) === 'float') && isTargetBelongsToTooltip) {\n    var proxy = makeProxy(e);\n    proxy.currentTarget = target;\n    callback(proxy);\n  }\n};\n\nvar findCustomEvents = function findCustomEvents(targetArray, dataAttribute) {\n  var events = {};\n  targetArray.forEach(function (target) {\n    var event = target.getAttribute(dataAttribute);\n    if (event) event.split(' ').forEach(function (event) {\n      return events[event] = true;\n    });\n  });\n  return events;\n};\n\nvar getBody = function getBody() {\n  return document.getElementsByTagName('body')[0];\n};\n\nfunction bodyMode(target) {\n  target.prototype.isBodyMode = function () {\n    return !!this.props.bodyMode;\n  };\n\n  target.prototype.bindBodyListener = function (targetArray) {\n    var _this = this;\n\n    var _this$state = this.state,\n        event = _this$state.event,\n        eventOff = _this$state.eventOff,\n        possibleCustomEvents = _this$state.possibleCustomEvents,\n        possibleCustomEventsOff = _this$state.possibleCustomEventsOff;\n    var body = getBody();\n    var customEvents = findCustomEvents(targetArray, 'data-event');\n    var customEventsOff = findCustomEvents(targetArray, 'data-event-off');\n    if (event != null) customEvents[event] = true;\n    if (eventOff != null) customEventsOff[eventOff] = true;\n    possibleCustomEvents.split(' ').forEach(function (event) {\n      return customEvents[event] = true;\n    });\n    possibleCustomEventsOff.split(' ').forEach(function (event) {\n      return customEventsOff[event] = true;\n    });\n    this.unbindBodyListener(body);\n    var listeners = this.bodyModeListeners = {};\n\n    if (event == null) {\n      listeners.mouseover = bodyListener.bind(this, this.showTooltip, {});\n      listeners.mousemove = bodyListener.bind(this, this.updateTooltip, {\n        respectEffect: true\n      });\n      listeners.mouseout = bodyListener.bind(this, this.hideTooltip, {});\n    }\n\n    for (var _event in customEvents) {\n      listeners[_event] = bodyListener.bind(this, function (e) {\n        var targetEventOff = e.currentTarget.getAttribute('data-event-off') || eventOff;\n        checkStatus.call(_this, targetEventOff, e);\n      }, {\n        customEvent: true\n      });\n    }\n\n    for (var _event2 in customEventsOff) {\n      listeners[_event2] = bodyListener.bind(this, this.hideTooltip, {\n        customEvent: true\n      });\n    }\n\n    for (var _event3 in listeners) {\n      body.addEventListener(_event3, listeners[_event3]);\n    }\n  };\n\n  target.prototype.unbindBodyListener = function (body) {\n    body = body || getBody();\n    var listeners = this.bodyModeListeners;\n\n    for (var event in listeners) {\n      body.removeEventListener(event, listeners[event]);\n    }\n  };\n}\n/**\n * Tracking target removing from DOM.\n * It's necessary to hide tooltip when it's target disappears.\n * Otherwise, the tooltip would be shown forever until another target\n * is triggered.\n *\n * If MutationObserver is not available, this feature just doesn't work.\n */\n// https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/\n\n\nvar getMutationObserverClass = function getMutationObserverClass() {\n  return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n};\n\nfunction trackRemoval(target) {\n  target.prototype.bindRemovalTracker = function () {\n    var _this = this;\n\n    var MutationObserver = getMutationObserverClass();\n    if (MutationObserver == null) return;\n    var observer = new MutationObserver(function (mutations) {\n      for (var m1 = 0; m1 < mutations.length; m1++) {\n        var mutation = mutations[m1];\n\n        for (var m2 = 0; m2 < mutation.removedNodes.length; m2++) {\n          var element = mutation.removedNodes[m2];\n\n          if (element === _this.state.currentTarget) {\n            _this.hideTooltip();\n\n            return;\n          }\n        }\n      }\n    });\n    observer.observe(window.document, {\n      childList: true,\n      subtree: true\n    });\n    this.removalTracker = observer;\n  };\n\n  target.prototype.unbindRemovalTracker = function () {\n    if (this.removalTracker) {\n      this.removalTracker.disconnect();\n      this.removalTracker = null;\n    }\n  };\n}\n/**\n * Calculate the position of tooltip\n *\n * @params\n * - `e` {Event} the event of current mouse\n * - `target` {Element} the currentTarget of the event\n * - `node` {DOM} the react-tooltip object\n * - `place` {String} top / right / bottom / left\n * - `effect` {String} float / solid\n * - `offset` {Object} the offset to default position\n *\n * @return {Object}\n * - `isNewState` {Bool} required\n * - `newState` {Object}\n * - `position` {Object} {left: {Number}, top: {Number}}\n */\n\n\nfunction getPosition(e, target, node, place, desiredPlace, effect, offset) {\n  var _getDimensions = getDimensions(node),\n      tipWidth = _getDimensions.width,\n      tipHeight = _getDimensions.height;\n\n  var _getDimensions2 = getDimensions(target),\n      targetWidth = _getDimensions2.width,\n      targetHeight = _getDimensions2.height;\n\n  var _getCurrentOffset = getCurrentOffset(e, target, effect),\n      mouseX = _getCurrentOffset.mouseX,\n      mouseY = _getCurrentOffset.mouseY;\n\n  var defaultOffset = getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight);\n\n  var _calculateOffset = calculateOffset(offset),\n      extraOffsetX = _calculateOffset.extraOffsetX,\n      extraOffsetY = _calculateOffset.extraOffsetY;\n\n  var windowWidth = window.innerWidth;\n  var windowHeight = window.innerHeight;\n\n  var _getParent = getParent(node),\n      parentTop = _getParent.parentTop,\n      parentLeft = _getParent.parentLeft; // Get the edge offset of the tooltip\n\n\n  var getTipOffsetLeft = function getTipOffsetLeft(place) {\n    var offsetX = defaultOffset[place].l;\n    return mouseX + offsetX + extraOffsetX;\n  };\n\n  var getTipOffsetRight = function getTipOffsetRight(place) {\n    var offsetX = defaultOffset[place].r;\n    return mouseX + offsetX + extraOffsetX;\n  };\n\n  var getTipOffsetTop = function getTipOffsetTop(place) {\n    var offsetY = defaultOffset[place].t;\n    return mouseY + offsetY + extraOffsetY;\n  };\n\n  var getTipOffsetBottom = function getTipOffsetBottom(place) {\n    var offsetY = defaultOffset[place].b;\n    return mouseY + offsetY + extraOffsetY;\n  }; //\n  // Functions to test whether the tooltip's sides are inside\n  // the client window for a given orientation p\n  //\n  //  _____________\n  // |             | <-- Right side\n  // | p = 'left'  |\\\n  // |             |/  |\\\n  // |_____________|   |_\\  <-- Mouse\n  //      / \\           |\n  //       |\n  //       |\n  //  Bottom side\n  //\n\n\n  var outsideLeft = function outsideLeft(p) {\n    return getTipOffsetLeft(p) < 0;\n  };\n\n  var outsideRight = function outsideRight(p) {\n    return getTipOffsetRight(p) > windowWidth;\n  };\n\n  var outsideTop = function outsideTop(p) {\n    return getTipOffsetTop(p) < 0;\n  };\n\n  var outsideBottom = function outsideBottom(p) {\n    return getTipOffsetBottom(p) > windowHeight;\n  }; // Check whether the tooltip with orientation p is completely inside the client window\n\n\n  var outside = function outside(p) {\n    return outsideLeft(p) || outsideRight(p) || outsideTop(p) || outsideBottom(p);\n  };\n\n  var inside = function inside(p) {\n    return !outside(p);\n  };\n\n  var placesList = ['top', 'bottom', 'left', 'right'];\n  var insideList = [];\n\n  for (var i = 0; i < 4; i++) {\n    var p = placesList[i];\n\n    if (inside(p)) {\n      insideList.push(p);\n    }\n  }\n\n  var isNewState = false;\n  var newPlace;\n  var shouldUpdatePlace = desiredPlace !== place;\n\n  if (inside(desiredPlace) && shouldUpdatePlace) {\n    isNewState = true;\n    newPlace = desiredPlace;\n  } else if (insideList.length > 0 && outside(desiredPlace) && outside(place)) {\n    isNewState = true;\n    newPlace = insideList[0];\n  }\n\n  if (isNewState) {\n    return {\n      isNewState: true,\n      newState: {\n        place: newPlace\n      }\n    };\n  }\n\n  return {\n    isNewState: false,\n    position: {\n      left: parseInt(getTipOffsetLeft(place) - parentLeft, 10),\n      top: parseInt(getTipOffsetTop(place) - parentTop, 10)\n    }\n  };\n}\n\nvar getDimensions = function getDimensions(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      height = _node$getBoundingClie.height,\n      width = _node$getBoundingClie.width;\n\n  return {\n    height: parseInt(height, 10),\n    width: parseInt(width, 10)\n  };\n}; // Get current mouse offset\n\n\nvar getCurrentOffset = function getCurrentOffset(e, currentTarget, effect) {\n  var boundingClientRect = currentTarget.getBoundingClientRect();\n  var targetTop = boundingClientRect.top;\n  var targetLeft = boundingClientRect.left;\n\n  var _getDimensions3 = getDimensions(currentTarget),\n      targetWidth = _getDimensions3.width,\n      targetHeight = _getDimensions3.height;\n\n  if (effect === 'float') {\n    return {\n      mouseX: e.clientX,\n      mouseY: e.clientY\n    };\n  }\n\n  return {\n    mouseX: targetLeft + targetWidth / 2,\n    mouseY: targetTop + targetHeight / 2\n  };\n}; // List all possibility of tooltip final offset\n// This is useful in judging if it is necessary for tooltip to switch position when out of window\n\n\nvar getDefaultPosition = function getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight) {\n  var top;\n  var right;\n  var bottom;\n  var left;\n  var disToMouse = 3;\n  var triangleHeight = 2;\n  var cursorHeight = 12; // Optimize for float bottom only, cause the cursor will hide the tooltip\n\n  if (effect === 'float') {\n    top = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: -(tipHeight + disToMouse + triangleHeight),\n      b: -disToMouse\n    };\n    bottom = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: disToMouse + cursorHeight,\n      b: tipHeight + disToMouse + triangleHeight + cursorHeight\n    };\n    left = {\n      l: -(tipWidth + disToMouse + triangleHeight),\n      r: -disToMouse,\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n    right = {\n      l: disToMouse,\n      r: tipWidth + disToMouse + triangleHeight,\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n  } else if (effect === 'solid') {\n    top = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: -(targetHeight / 2 + tipHeight + triangleHeight),\n      b: -(targetHeight / 2)\n    };\n    bottom = {\n      l: -(tipWidth / 2),\n      r: tipWidth / 2,\n      t: targetHeight / 2,\n      b: targetHeight / 2 + tipHeight + triangleHeight\n    };\n    left = {\n      l: -(tipWidth + targetWidth / 2 + triangleHeight),\n      r: -(targetWidth / 2),\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n    right = {\n      l: targetWidth / 2,\n      r: tipWidth + targetWidth / 2 + triangleHeight,\n      t: -(tipHeight / 2),\n      b: tipHeight / 2\n    };\n  }\n\n  return {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right\n  };\n}; // Consider additional offset into position calculation\n\n\nvar calculateOffset = function calculateOffset(offset) {\n  var extraOffsetX = 0;\n  var extraOffsetY = 0;\n\n  if (Object.prototype.toString.apply(offset) === '[object String]') {\n    offset = JSON.parse(offset.toString().replace(/'/g, '\"'));\n  }\n\n  for (var key in offset) {\n    if (key === 'top') {\n      extraOffsetY -= parseInt(offset[key], 10);\n    } else if (key === 'bottom') {\n      extraOffsetY += parseInt(offset[key], 10);\n    } else if (key === 'left') {\n      extraOffsetX -= parseInt(offset[key], 10);\n    } else if (key === 'right') {\n      extraOffsetX += parseInt(offset[key], 10);\n    }\n  }\n\n  return {\n    extraOffsetX: extraOffsetX,\n    extraOffsetY: extraOffsetY\n  };\n}; // Get the offset of the parent elements\n\n\nvar getParent = function getParent(currentTarget) {\n  var currentParent = currentTarget;\n\n  while (currentParent) {\n    var computedStyle = window.getComputedStyle(currentParent); // transform and will-change: transform change the containing block\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_Block\n\n    if (computedStyle.getPropertyValue('transform') !== 'none' || computedStyle.getPropertyValue('will-change') === 'transform') break;\n    currentParent = currentParent.parentElement;\n  }\n\n  var parentTop = currentParent && currentParent.getBoundingClientRect().top || 0;\n  var parentLeft = currentParent && currentParent.getBoundingClientRect().left || 0;\n  return {\n    parentTop: parentTop,\n    parentLeft: parentLeft\n  };\n};\n/**\n * To get the tooltip content\n * it may comes from data-tip or this.props.children\n * it should support multiline\n *\n * @params\n * - `tip` {String} value of data-tip\n * - `children` {ReactElement} this.props.children\n * - `multiline` {Any} could be Bool(true/false) or String('true'/'false')\n *\n * @return\n * - String or react component\n */\n\n\nfunction getTipContent(tip, children, getContent, multiline) {\n  if (children) return children;\n  if (getContent !== undefined && getContent !== null) return getContent; // getContent can be 0, '', etc.\n\n  if (getContent === null) return null; // Tip not exist and children is null or undefined\n\n  var regexp = /<br\\s*\\/?>/;\n\n  if (!multiline || multiline === 'false' || !regexp.test(tip)) {\n    // No trim(), so that user can keep their input\n    return tip;\n  } // Multiline tooltip content\n\n\n  return tip.split(regexp).map(function (d, i) {\n    return React.createElement(\"span\", {\n      key: i,\n      className: \"multi-line\"\n    }, d);\n  });\n}\n/**\n * Support aria- and role in ReactTooltip\n *\n * @params props {Object}\n * @return {Object}\n */\n\n\nfunction parseAria(props) {\n  var ariaObj = {};\n  Object.keys(props).filter(function (prop) {\n    // aria-xxx and role is acceptable\n    return /(^aria-\\w+$|^role$)/.test(prop);\n  }).forEach(function (prop) {\n    ariaObj[prop] = props[prop];\n  });\n  return ariaObj;\n}\n/**\n * Convert nodelist to array\n * @see https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/core/createArrayFromMixed.js#L24\n * NodeLists are functions in Safari\n */\n\n\nfunction nodeListToArray(nodeList) {\n  var length = nodeList.length;\n\n  if (nodeList.hasOwnProperty) {\n    return Array.prototype.slice.call(nodeList);\n  }\n\n  return new Array(length).fill().map(function (index) {\n    return nodeList[index];\n  });\n}\n\nfunction generateUUID() {\n  return 't' + v4();\n}\n\n___$insertStyle(\".__react_component_tooltip {\\n  border-radius: 3px;\\n  display: inline-block;\\n  font-size: 13px;\\n  left: -999em;\\n  opacity: 0;\\n  padding: 8px 21px;\\n  position: fixed;\\n  pointer-events: none;\\n  transition: opacity 0.3s ease-out;\\n  top: -999em;\\n  visibility: hidden;\\n  z-index: 999;\\n}\\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\\n  pointer-events: auto;\\n}\\n.__react_component_tooltip::before, .__react_component_tooltip::after {\\n  content: \\\"\\\";\\n  width: 0;\\n  height: 0;\\n  position: absolute;\\n}\\n.__react_component_tooltip.show {\\n  opacity: 0.9;\\n  margin-top: 0;\\n  margin-left: 0;\\n  visibility: visible;\\n}\\n.__react_component_tooltip.place-top::before {\\n  border-left: 10px solid transparent;\\n  border-right: 10px solid transparent;\\n  bottom: -8px;\\n  left: 50%;\\n  margin-left: -10px;\\n}\\n.__react_component_tooltip.place-bottom::before {\\n  border-left: 10px solid transparent;\\n  border-right: 10px solid transparent;\\n  top: -8px;\\n  left: 50%;\\n  margin-left: -10px;\\n}\\n.__react_component_tooltip.place-left::before {\\n  border-top: 6px solid transparent;\\n  border-bottom: 6px solid transparent;\\n  right: -8px;\\n  top: 50%;\\n  margin-top: -5px;\\n}\\n.__react_component_tooltip.place-right::before {\\n  border-top: 6px solid transparent;\\n  border-bottom: 6px solid transparent;\\n  left: -8px;\\n  top: 50%;\\n  margin-top: -5px;\\n}\\n.__react_component_tooltip .multi-line {\\n  display: block;\\n  padding: 2px 0;\\n  text-align: center;\\n}\");\n/**\n * Default pop-up style values (text color, background color).\n */\n\n\nvar defaultColors = {\n  dark: {\n    text: '#fff',\n    background: '#222',\n    border: 'transparent',\n    arrow: '#222'\n  },\n  success: {\n    text: '#fff',\n    background: '#8DC572',\n    border: 'transparent',\n    arrow: '#8DC572'\n  },\n  warning: {\n    text: '#fff',\n    background: '#F0AD4E',\n    border: 'transparent',\n    arrow: '#F0AD4E'\n  },\n  error: {\n    text: '#fff',\n    background: '#BE6464',\n    border: 'transparent',\n    arrow: '#BE6464'\n  },\n  info: {\n    text: '#fff',\n    background: '#337AB7',\n    border: 'transparent',\n    arrow: '#337AB7'\n  },\n  light: {\n    text: '#222',\n    background: '#fff',\n    border: 'transparent',\n    arrow: '#fff'\n  }\n};\n\nfunction getDefaultPopupColors(type) {\n  return defaultColors[type] ? _objectSpread2({}, defaultColors[type]) : undefined;\n}\n/**\n * Generates the specific tooltip style for use on render.\n */\n\n\nfunction generateTooltipStyle(uuid, customColors, type, hasBorder) {\n  return generateStyle(uuid, getPopupColors(customColors, type, hasBorder));\n}\n/**\n * Generates the tooltip style rules based on the element-specified \"data-type\" property.\n */\n\n\nfunction generateStyle(uuid, colors) {\n  var textColor = colors.text;\n  var backgroundColor = colors.background;\n  var borderColor = colors.border;\n  var arrowColor = colors.arrow;\n  return \"\\n  \\t.\".concat(uuid, \" {\\n\\t    color: \").concat(textColor, \";\\n\\t    background: \").concat(backgroundColor, \";\\n\\t    border: 1px solid \").concat(borderColor, \";\\n  \\t}\\n\\n  \\t.\").concat(uuid, \".place-top {\\n        margin-top: -10px;\\n    }\\n    .\").concat(uuid, \".place-top::before {\\n        border-top: 8px solid \").concat(borderColor, \";\\n    }\\n    .\").concat(uuid, \".place-top::after {\\n        border-left: 8px solid transparent;\\n        border-right: 8px solid transparent;\\n        bottom: -6px;\\n        left: 50%;\\n        margin-left: -8px;\\n        border-top-color: \").concat(arrowColor, \";\\n        border-top-style: solid;\\n        border-top-width: 6px;\\n    }\\n\\n    .\").concat(uuid, \".place-bottom {\\n        margin-top: 10px;\\n    }\\n    .\").concat(uuid, \".place-bottom::before {\\n        border-bottom: 8px solid \").concat(borderColor, \";\\n    }\\n    .\").concat(uuid, \".place-bottom::after {\\n        border-left: 8px solid transparent;\\n        border-right: 8px solid transparent;\\n        top: -6px;\\n        left: 50%;\\n        margin-left: -8px;\\n        border-bottom-color: \").concat(arrowColor, \";\\n        border-bottom-style: solid;\\n        border-bottom-width: 6px;\\n    }\\n\\n    .\").concat(uuid, \".place-left {\\n        margin-left: -10px;\\n    }\\n    .\").concat(uuid, \".place-left::before {\\n        border-left: 8px solid \").concat(borderColor, \";\\n    }\\n    .\").concat(uuid, \".place-left::after {\\n        border-top: 5px solid transparent;\\n        border-bottom: 5px solid transparent;\\n        right: -6px;\\n        top: 50%;\\n        margin-top: -4px;\\n        border-left-color: \").concat(arrowColor, \";\\n        border-left-style: solid;\\n        border-left-width: 6px;\\n    }\\n\\n    .\").concat(uuid, \".place-right {\\n        margin-left: 10px;\\n    }\\n    .\").concat(uuid, \".place-right::before {\\n        border-right: 8px solid \").concat(borderColor, \";\\n    }\\n    .\").concat(uuid, \".place-right::after {\\n        border-top: 5px solid transparent;\\n        border-bottom: 5px solid transparent;\\n        left: -6px;\\n        top: 50%;\\n        margin-top: -4px;\\n        border-right-color: \").concat(arrowColor, \";\\n        border-right-style: solid;\\n        border-right-width: 6px;\\n    }\\n  \");\n}\n\nfunction getPopupColors(customColors, type, hasBorder) {\n  var textColor = customColors.text;\n  var backgroundColor = customColors.background;\n  var borderColor = customColors.border;\n  var arrowColor = customColors.arrow ? customColors.arrow : customColors.background;\n  var colors = getDefaultPopupColors(type);\n\n  if (textColor) {\n    colors.text = textColor;\n  }\n\n  if (backgroundColor) {\n    colors.background = backgroundColor;\n  }\n\n  if (hasBorder) {\n    if (borderColor) {\n      colors.border = borderColor;\n    } else {\n      colors.border = type === 'light' ? 'black' : 'white';\n    }\n  }\n\n  if (arrowColor) {\n    colors.arrow = arrowColor;\n  }\n\n  return colors;\n}\n\nvar _class, _class2, _temp;\n\nvar ReactTooltip = staticMethods(_class = windowListener(_class = customEvent(_class = isCapture(_class = getEffect(_class = bodyMode(_class = trackRemoval(_class = (_temp = _class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactTooltip, _React$Component);\n\n  _createClass(ReactTooltip, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        uuid: PropTypes.string,\n        children: PropTypes.any,\n        place: PropTypes.string,\n        type: PropTypes.string,\n        effect: PropTypes.string,\n        offset: PropTypes.object,\n        multiline: PropTypes.bool,\n        border: PropTypes.bool,\n        textColor: PropTypes.string,\n        backgroundColor: PropTypes.string,\n        borderColor: PropTypes.string,\n        arrowColor: PropTypes.string,\n        insecure: PropTypes.bool,\n        \"class\": PropTypes.string,\n        className: PropTypes.string,\n        id: PropTypes.string,\n        html: PropTypes.bool,\n        delayHide: PropTypes.number,\n        delayUpdate: PropTypes.number,\n        delayShow: PropTypes.number,\n        event: PropTypes.string,\n        eventOff: PropTypes.string,\n        isCapture: PropTypes.bool,\n        globalEventOff: PropTypes.string,\n        getContent: PropTypes.any,\n        afterShow: PropTypes.func,\n        afterHide: PropTypes.func,\n        overridePosition: PropTypes.func,\n        disable: PropTypes.bool,\n        scrollHide: PropTypes.bool,\n        resizeHide: PropTypes.bool,\n        wrapper: PropTypes.string,\n        bodyMode: PropTypes.bool,\n        possibleCustomEvents: PropTypes.string,\n        possibleCustomEventsOff: PropTypes.string,\n        clickable: PropTypes.bool\n      };\n    }\n  }]);\n\n  function ReactTooltip(props) {\n    var _this;\n\n    _classCallCheck(this, ReactTooltip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactTooltip).call(this, props));\n    _this.state = {\n      uuid: props.uuid || generateUUID(),\n      place: props.place || 'top',\n      // Direction of tooltip\n      desiredPlace: props.place || 'top',\n      type: 'dark',\n      // Color theme of tooltip\n      effect: 'float',\n      // float or fixed\n      show: false,\n      border: false,\n      customColors: {},\n      offset: {},\n      extraClass: '',\n      html: false,\n      delayHide: 0,\n      delayShow: 0,\n      event: props.event || null,\n      eventOff: props.eventOff || null,\n      currentEvent: null,\n      // Current mouse event\n      currentTarget: null,\n      // Current target of mouse event\n      ariaProps: parseAria(props),\n      // aria- and role attributes\n      isEmptyTip: false,\n      disable: false,\n      possibleCustomEvents: props.possibleCustomEvents || '',\n      possibleCustomEventsOff: props.possibleCustomEventsOff || '',\n      originTooltip: null,\n      isMultiline: false\n    };\n\n    _this.bind(['showTooltip', 'updateTooltip', 'hideTooltip', 'hideTooltipOnScroll', 'getTooltipContent', 'globalRebuild', 'globalShow', 'globalHide', 'onWindowResize', 'mouseOnToolTip']);\n\n    _this.mount = true;\n    _this.delayShowLoop = null;\n    _this.delayHideLoop = null;\n    _this.delayReshow = null;\n    _this.intervalUpdateContent = null;\n    return _this;\n  }\n  /**\n   * For unify the bind and unbind listener\n   */\n\n\n  _createClass(ReactTooltip, [{\n    key: \"bind\",\n    value: function bind(methodArray) {\n      var _this2 = this;\n\n      methodArray.forEach(function (method) {\n        _this2[method] = _this2[method].bind(_this2);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          insecure = _this$props.insecure,\n          resizeHide = _this$props.resizeHide;\n      this.bindListener(); // Bind listener for tooltip\n\n      this.bindWindowEvents(resizeHide); // Bind global event for static method\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mount = false;\n      this.clearTimer();\n      this.unbindListener();\n      this.removeScrollListener(this.state.currentTarget);\n      this.unbindWindowEvents();\n    }\n    /**\n     * Return if the mouse is on the tooltip.\n     * @returns {boolean} true - mouse is on the tooltip\n     */\n\n  }, {\n    key: \"mouseOnToolTip\",\n    value: function mouseOnToolTip() {\n      var show = this.state.show;\n\n      if (show && this.tooltipRef) {\n        /* old IE or Firefox work around */\n        if (!this.tooltipRef.matches) {\n          /* old IE work around */\n          if (this.tooltipRef.msMatchesSelector) {\n            this.tooltipRef.matches = this.tooltipRef.msMatchesSelector;\n          } else {\n            /* old Firefox work around */\n            this.tooltipRef.matches = this.tooltipRef.mozMatchesSelector;\n          }\n        }\n\n        return this.tooltipRef.matches(':hover');\n      }\n\n      return false;\n    }\n    /**\n     * Pick out corresponded target elements\n     */\n\n  }, {\n    key: \"getTargetArray\",\n    value: function getTargetArray(id) {\n      var targetArray = [];\n      var selector;\n\n      if (!id) {\n        selector = '[data-tip]:not([data-for])';\n      } else {\n        var escaped = id.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"');\n        selector = \"[data-tip][data-for=\\\"\".concat(escaped, \"\\\"]\");\n      } // Scan document for shadow DOM elements\n\n\n      nodeListToArray(document.getElementsByTagName('*')).filter(function (element) {\n        return element.shadowRoot;\n      }).forEach(function (element) {\n        targetArray = targetArray.concat(nodeListToArray(element.shadowRoot.querySelectorAll(selector)));\n      });\n      return targetArray.concat(nodeListToArray(document.querySelectorAll(selector)));\n    }\n    /**\n     * Bind listener to the target elements\n     * These listeners used to trigger showing or hiding the tooltip\n     */\n\n  }, {\n    key: \"bindListener\",\n    value: function bindListener() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          globalEventOff = _this$props2.globalEventOff,\n          isCapture = _this$props2.isCapture;\n      var targetArray = this.getTargetArray(id);\n      targetArray.forEach(function (target) {\n        if (target.getAttribute('currentItem') === null) {\n          target.setAttribute('currentItem', 'false');\n        }\n\n        _this3.unbindBasicListener(target);\n\n        if (_this3.isCustomEvent(target)) {\n          _this3.customUnbindListener(target);\n        }\n      });\n\n      if (this.isBodyMode()) {\n        this.bindBodyListener(targetArray);\n      } else {\n        targetArray.forEach(function (target) {\n          var isCaptureMode = _this3.isCapture(target);\n\n          var effect = _this3.getEffect(target);\n\n          if (_this3.isCustomEvent(target)) {\n            _this3.customBindListener(target);\n\n            return;\n          }\n\n          target.addEventListener('mouseenter', _this3.showTooltip, isCaptureMode);\n\n          if (effect === 'float') {\n            target.addEventListener('mousemove', _this3.updateTooltip, isCaptureMode);\n          }\n\n          target.addEventListener('mouseleave', _this3.hideTooltip, isCaptureMode);\n        });\n      } // Global event to hide tooltip\n\n\n      if (globalEventOff) {\n        window.removeEventListener(globalEventOff, this.hideTooltip);\n        window.addEventListener(globalEventOff, this.hideTooltip, isCapture);\n      } // Track removal of targetArray elements from DOM\n\n\n      this.bindRemovalTracker();\n    }\n    /**\n     * Unbind listeners on target elements\n     */\n\n  }, {\n    key: \"unbindListener\",\n    value: function unbindListener() {\n      var _this4 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          globalEventOff = _this$props3.globalEventOff;\n\n      if (this.isBodyMode()) {\n        this.unbindBodyListener();\n      } else {\n        var targetArray = this.getTargetArray(id);\n        targetArray.forEach(function (target) {\n          _this4.unbindBasicListener(target);\n\n          if (_this4.isCustomEvent(target)) _this4.customUnbindListener(target);\n        });\n      }\n\n      if (globalEventOff) window.removeEventListener(globalEventOff, this.hideTooltip);\n      this.unbindRemovalTracker();\n    }\n    /**\n     * Invoke this before bind listener and unmount the component\n     * it is necessary to invoke this even when binding custom event\n     * so that the tooltip can switch between custom and default listener\n     */\n\n  }, {\n    key: \"unbindBasicListener\",\n    value: function unbindBasicListener(target) {\n      var isCaptureMode = this.isCapture(target);\n      target.removeEventListener('mouseenter', this.showTooltip, isCaptureMode);\n      target.removeEventListener('mousemove', this.updateTooltip, isCaptureMode);\n      target.removeEventListener('mouseleave', this.hideTooltip, isCaptureMode);\n    }\n  }, {\n    key: \"getTooltipContent\",\n    value: function getTooltipContent() {\n      var _this$props4 = this.props,\n          getContent = _this$props4.getContent,\n          children = _this$props4.children; // Generate tooltip content\n\n      var content;\n\n      if (getContent) {\n        if (Array.isArray(getContent)) {\n          content = getContent[0] && getContent[0](this.state.originTooltip);\n        } else {\n          content = getContent(this.state.originTooltip);\n        }\n      }\n\n      return getTipContent(this.state.originTooltip, children, content, this.state.isMultiline);\n    }\n  }, {\n    key: \"isEmptyTip\",\n    value: function isEmptyTip(placeholder) {\n      return typeof placeholder === 'string' && placeholder === '' || placeholder === null;\n    }\n    /**\n     * When mouse enter, show the tooltip\n     */\n\n  }, {\n    key: \"showTooltip\",\n    value: function showTooltip(e, isGlobalCall) {\n      if (!this.tooltipRef) {\n        return;\n      }\n\n      if (isGlobalCall) {\n        // Don't trigger other elements belongs to other ReactTooltip\n        var targetArray = this.getTargetArray(this.props.id);\n        var isMyElement = targetArray.some(function (ele) {\n          return ele === e.currentTarget;\n        });\n        if (!isMyElement) return;\n      } // Get the tooltip content\n      // calculate in this phrase so that tip width height can be detected\n\n\n      var _this$props5 = this.props,\n          multiline = _this$props5.multiline,\n          getContent = _this$props5.getContent;\n      var originTooltip = e.currentTarget.getAttribute('data-tip');\n      var isMultiline = e.currentTarget.getAttribute('data-multiline') || multiline || false; // If it is focus event or called by ReactTooltip.show, switch to `solid` effect\n\n      var switchToSolid = e instanceof window.FocusEvent || isGlobalCall; // if it needs to skip adding hide listener to scroll\n\n      var scrollHide = true;\n\n      if (e.currentTarget.getAttribute('data-scroll-hide')) {\n        scrollHide = e.currentTarget.getAttribute('data-scroll-hide') === 'true';\n      } else if (this.props.scrollHide != null) {\n        scrollHide = this.props.scrollHide;\n      } // Make sure the correct place is set\n\n\n      var desiredPlace = e.currentTarget.getAttribute('data-place') || this.props.place || 'top';\n      var effect = switchToSolid && 'solid' || this.getEffect(e.currentTarget);\n      var offset = e.currentTarget.getAttribute('data-offset') || this.props.offset || {};\n      var result = getPosition(e, e.currentTarget, this.tooltipRef, desiredPlace, desiredPlace, effect, offset);\n\n      if (result.position && this.props.overridePosition) {\n        result.position = this.props.overridePosition(result.position, e, e.currentTarget, this.tooltipRef, desiredPlace, desiredPlace, effect, offset);\n      }\n\n      var place = result.isNewState ? result.newState.place : desiredPlace; // To prevent previously created timers from triggering\n\n      this.clearTimer();\n      var target = e.currentTarget;\n      var reshowDelay = this.state.show ? target.getAttribute('data-delay-update') || this.props.delayUpdate : 0;\n      var self = this;\n\n      var updateState = function updateState() {\n        self.setState({\n          originTooltip: originTooltip,\n          isMultiline: isMultiline,\n          desiredPlace: desiredPlace,\n          place: place,\n          type: target.getAttribute('data-type') || self.props.type || 'dark',\n          customColors: {\n            text: target.getAttribute('data-text-color') || self.props.textColor || null,\n            background: target.getAttribute('data-background-color') || self.props.backgroundColor || null,\n            border: target.getAttribute('data-border-color') || self.props.borderColor || null,\n            arrow: target.getAttribute('data-arrow-color') || self.props.arrowColor || null\n          },\n          effect: effect,\n          offset: offset,\n          html: (target.getAttribute('data-html') ? target.getAttribute('data-html') === 'true' : self.props.html) || false,\n          delayShow: target.getAttribute('data-delay-show') || self.props.delayShow || 0,\n          delayHide: target.getAttribute('data-delay-hide') || self.props.delayHide || 0,\n          delayUpdate: target.getAttribute('data-delay-update') || self.props.delayUpdate || 0,\n          border: (target.getAttribute('data-border') ? target.getAttribute('data-border') === 'true' : self.props.border) || false,\n          extraClass: target.getAttribute('data-class') || self.props[\"class\"] || self.props.className || '',\n          disable: (target.getAttribute('data-tip-disable') ? target.getAttribute('data-tip-disable') === 'true' : self.props.disable) || false,\n          currentTarget: target\n        }, function () {\n          if (scrollHide) {\n            self.addScrollListener(self.state.currentTarget);\n          }\n\n          self.updateTooltip(e);\n\n          if (getContent && Array.isArray(getContent)) {\n            self.intervalUpdateContent = setInterval(function () {\n              if (self.mount) {\n                var _getContent = self.props.getContent;\n                var placeholder = getTipContent(originTooltip, '', _getContent[0](), isMultiline);\n                var isEmptyTip = self.isEmptyTip(placeholder);\n                self.setState({\n                  isEmptyTip: isEmptyTip\n                });\n                self.updatePosition();\n              }\n            }, getContent[1]);\n          }\n        });\n      }; // If there is no delay call immediately, don't allow events to get in first.\n\n\n      if (reshowDelay) {\n        this.delayReshow = setTimeout(updateState, reshowDelay);\n      } else {\n        updateState();\n      }\n    }\n    /**\n     * When mouse hover, update tool tip\n     */\n\n  }, {\n    key: \"updateTooltip\",\n    value: function updateTooltip(e) {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          delayShow = _this$state.delayShow,\n          disable = _this$state.disable;\n      var afterShow = this.props.afterShow;\n      var placeholder = this.getTooltipContent();\n      var delayTime = parseInt(delayShow, 10);\n      var eventTarget = e.currentTarget || e.target; // Check if the mouse is actually over the tooltip, if so don't hide the tooltip\n\n      if (this.mouseOnToolTip()) {\n        return;\n      } // if the tooltip is empty, disable the tooltip\n\n\n      if (this.isEmptyTip(placeholder) || disable) {\n        return;\n      }\n\n      var updateState = function updateState() {\n        if (Array.isArray(placeholder) && placeholder.length > 0 || placeholder) {\n          var isInvisible = !_this5.state.show;\n\n          _this5.setState({\n            currentEvent: e,\n            currentTarget: eventTarget,\n            show: true\n          }, function () {\n            _this5.updatePosition();\n\n            if (isInvisible && afterShow) {\n              afterShow(e);\n            }\n          });\n        }\n      };\n\n      clearTimeout(this.delayShowLoop);\n\n      if (delayShow) {\n        this.delayShowLoop = setTimeout(updateState, delayTime);\n      } else {\n        updateState();\n      }\n    }\n    /*\n     * If we're mousing over the tooltip remove it when we leave.\n     */\n\n  }, {\n    key: \"listenForTooltipExit\",\n    value: function listenForTooltipExit() {\n      var show = this.state.show;\n\n      if (show && this.tooltipRef) {\n        this.tooltipRef.addEventListener('mouseleave', this.hideTooltip);\n      }\n    }\n  }, {\n    key: \"removeListenerForTooltipExit\",\n    value: function removeListenerForTooltipExit() {\n      var show = this.state.show;\n\n      if (show && this.tooltipRef) {\n        this.tooltipRef.removeEventListener('mouseleave', this.hideTooltip);\n      }\n    }\n    /**\n     * When mouse leave, hide tooltip\n     */\n\n  }, {\n    key: \"hideTooltip\",\n    value: function hideTooltip(e, hasTarget) {\n      var _this6 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        isScroll: false\n      };\n      var disable = this.state.disable;\n      var isScroll = options.isScroll;\n      var delayHide = isScroll ? 0 : this.state.delayHide;\n      var afterHide = this.props.afterHide;\n      var placeholder = this.getTooltipContent();\n      if (!this.mount) return;\n      if (this.isEmptyTip(placeholder) || disable) return; // if the tooltip is empty, disable the tooltip\n\n      if (hasTarget) {\n        // Don't trigger other elements belongs to other ReactTooltip\n        var targetArray = this.getTargetArray(this.props.id);\n        var isMyElement = targetArray.some(function (ele) {\n          return ele === e.currentTarget;\n        });\n        if (!isMyElement || !this.state.show) return;\n      }\n\n      var resetState = function resetState() {\n        var isVisible = _this6.state.show; // Check if the mouse is actually over the tooltip, if so don't hide the tooltip\n\n        if (_this6.mouseOnToolTip()) {\n          _this6.listenForTooltipExit();\n\n          return;\n        }\n\n        _this6.removeListenerForTooltipExit();\n\n        _this6.setState({\n          show: false\n        }, function () {\n          _this6.removeScrollListener(_this6.state.currentTarget);\n\n          if (isVisible && afterHide) {\n            afterHide(e);\n          }\n        });\n      };\n\n      this.clearTimer();\n\n      if (delayHide) {\n        this.delayHideLoop = setTimeout(resetState, parseInt(delayHide, 10));\n      } else {\n        resetState();\n      }\n    }\n    /**\n     * When scroll, hide tooltip\n     */\n\n  }, {\n    key: \"hideTooltipOnScroll\",\n    value: function hideTooltipOnScroll(event, hasTarget) {\n      this.hideTooltip(event, hasTarget, {\n        isScroll: true\n      });\n    }\n    /**\n     * Add scroll event listener when tooltip show\n     * automatically hide the tooltip when scrolling\n     */\n\n  }, {\n    key: \"addScrollListener\",\n    value: function addScrollListener(currentTarget) {\n      var isCaptureMode = this.isCapture(currentTarget);\n      window.addEventListener('scroll', this.hideTooltipOnScroll, isCaptureMode);\n    }\n  }, {\n    key: \"removeScrollListener\",\n    value: function removeScrollListener(currentTarget) {\n      var isCaptureMode = this.isCapture(currentTarget);\n      window.removeEventListener('scroll', this.hideTooltipOnScroll, isCaptureMode);\n    } // Calculation the position\n\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition() {\n      var _this7 = this;\n\n      var _this$state2 = this.state,\n          currentEvent = _this$state2.currentEvent,\n          currentTarget = _this$state2.currentTarget,\n          place = _this$state2.place,\n          desiredPlace = _this$state2.desiredPlace,\n          effect = _this$state2.effect,\n          offset = _this$state2.offset;\n      var node = this.tooltipRef;\n      var result = getPosition(currentEvent, currentTarget, node, place, desiredPlace, effect, offset);\n\n      if (result.position && this.props.overridePosition) {\n        result.position = this.props.overridePosition(result.position, currentEvent, currentTarget, node, place, desiredPlace, effect, offset);\n      }\n\n      if (result.isNewState) {\n        // Switch to reverse placement\n        return this.setState(result.newState, function () {\n          _this7.updatePosition();\n        });\n      } // Set tooltip position\n\n\n      node.style.left = result.position.left + 'px';\n      node.style.top = result.position.top + 'px';\n    }\n    /**\n     * CLear all kinds of timeout of interval\n     */\n\n  }, {\n    key: \"clearTimer\",\n    value: function clearTimer() {\n      clearTimeout(this.delayShowLoop);\n      clearTimeout(this.delayHideLoop);\n      clearTimeout(this.delayReshow);\n      clearInterval(this.intervalUpdateContent);\n    }\n  }, {\n    key: \"hasCustomColors\",\n    value: function hasCustomColors() {\n      var _this8 = this;\n\n      return Boolean(Object.keys(this.state.customColors).find(function (color) {\n        return color !== 'border' && _this8.state.customColors[color];\n      }) || this.state.border && this.state.customColors['border']);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      var _this$state3 = this.state,\n          extraClass = _this$state3.extraClass,\n          html = _this$state3.html,\n          ariaProps = _this$state3.ariaProps,\n          disable = _this$state3.disable;\n      var content = this.getTooltipContent();\n      var isEmptyTip = this.isEmptyTip(content);\n      var style = generateTooltipStyle(this.state.uuid, this.state.customColors, this.state.type, this.state.border);\n      var tooltipClass = '__react_component_tooltip' + \" \".concat(this.state.uuid) + (this.state.show && !disable && !isEmptyTip ? ' show' : '') + (this.state.border ? ' border' : '') + \" place-\".concat(this.state.place) + // top, bottom, left, right\n      \" type-\".concat(this.hasCustomColors() ? 'custom' : this.state.type) + ( // dark, success, warning, error, info, light, custom\n      this.props.delayUpdate ? ' allow_hover' : '') + (this.props.clickable ? ' allow_click' : '');\n      var Wrapper = this.props.wrapper;\n\n      if (ReactTooltip.supportedWrappers.indexOf(Wrapper) < 0) {\n        Wrapper = ReactTooltip.defaultProps.wrapper;\n      }\n\n      var wrapperClassName = [tooltipClass, extraClass].filter(Boolean).join(' ');\n\n      if (html) {\n        var htmlContent = \"\".concat(content, \"\\n<style>\").concat(style, \"</style>\");\n        return React.createElement(Wrapper, _extends({\n          className: \"\".concat(wrapperClassName),\n          id: this.props.id,\n          ref: function ref(_ref) {\n            return _this9.tooltipRef = _ref;\n          }\n        }, ariaProps, {\n          \"data-id\": \"tooltip\",\n          dangerouslySetInnerHTML: {\n            __html: htmlContent\n          }\n        }));\n      } else {\n        return React.createElement(Wrapper, _extends({\n          className: \"\".concat(wrapperClassName),\n          id: this.props.id\n        }, ariaProps, {\n          ref: function ref(_ref2) {\n            return _this9.tooltipRef = _ref2;\n          },\n          \"data-id\": \"tooltip\"\n        }), React.createElement(\"style\", {\n          dangerouslySetInnerHTML: {\n            __html: style\n          }\n        }), content);\n      }\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var ariaProps = prevState.ariaProps;\n      var newAriaProps = parseAria(nextProps);\n      var isChanged = Object.keys(newAriaProps).some(function (props) {\n        return newAriaProps[props] !== ariaProps[props];\n      });\n\n      if (!isChanged) {\n        return null;\n      }\n\n      return _objectSpread2({}, prevState, {\n        ariaProps: newAriaProps\n      });\n    }\n  }]);\n\n  return ReactTooltip;\n}(React.Component), _defineProperty(_class2, \"defaultProps\", {\n  insecure: true,\n  resizeHide: true,\n  wrapper: 'div',\n  clickable: false\n}), _defineProperty(_class2, \"supportedWrappers\", ['div', 'span']), _defineProperty(_class2, \"displayName\", 'ReactTooltip'), _temp)) || _class) || _class) || _class) || _class) || _class) || _class) || _class;\n\nexport default ReactTooltip;","import React from \"react\"\nimport { format } from \"util\"\n\nexport default function SkillTooltipAbilityEffect({ ability, prop, label, value, template }) {\n    if (!ability) {\n        return null\n    }\n\n    let field = ability[prop]\n    if (field === \"true\" || field === \"false\") {\n        field = Boolean(field)\n    } else if (!isNaN(Number(field))) {\n        field = Number(field)\n    }\n\n    if (field === -1) {\n        return null\n    }\n\n    if (prop === \"rage_cost\" && field === 0) {\n        return null\n    }\n\n    if (prop === \"effect_range\" && field === 0) {\n        return null\n    }\n\n    if (prop === \"damage_amount\" && field === 0) {\n        return null\n    }\n\n    return (\n        <div className=\"tooltip-ability-effect\">\n            <span className=\"tooltip-ability-effect-name\">{label}:</span>\n            <span className=\"tooltip-ability-effect-value\">{value || format(template, field)}</span>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport \"../../styles/skill-tooltip-ability-bullet.scss\"\n\nexport default function SkillTooltipAbilityBullets({ abilityBullets, unitAbility, service }) {\n    const data = useStaticQuery(graphql`\n        query {\n            allAbilityIconsImageSharp: allFile(\n                filter: { relativeDirectory: { eq: \"ability_icons\" } }\n            ) {\n                totalCount\n                nodes {\n                    relativePath\n                    relativeDirectory\n                    ext\n                    extension\n                    name\n                    childImageSharp {\n                        fixed(width: 25) {\n                            originalName\n                            height\n                            width\n                            ...GatsbyImageSharpFixed\n                        }\n                        original {\n                            height\n                            width\n                        }\n                    }\n                }\n            }\n        }\n    `)\n\n    const { allAbilityIconsImageSharp } = data\n\n    if (!abilityBullets) {\n        return null\n    }\n\n    const rows = abilityBullets.map(bullet => {\n        const img = allAbilityIconsImageSharp.nodes.find(\n            node => node.name === unitAbility.icon_name\n        )\n\n        const content = bullet.bulletText.split(\"||\").map(bullet => {\n            const content = service.replaceInlineIcon(bullet, { static: true })\n            return <div key={bullet}>{content}</div>\n        })\n\n        return {\n            img,\n            content\n        }\n    })\n\n    return (\n        <div className=\"tooltip-ability-effect-bullet\">\n            {rows.map((row, i) => (\n                <div className=\"tooltip-ability-effect-bullet-row\" key={i}>\n                    <div className=\"tooltip-ability-effect-bullet-icon\">\n                        <Img fixed={row.img.childImageSharp.fixed} />\n                    </div>\n                    <div className=\"tooltip-ability-effect-bullet-text\">{row.content}</div>\n                </div>\n            ))}\n        </div>\n    )\n}\n","import React from \"react\"\nimport { withPrefix } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport path from \"path\"\n\nconst textReplacementRegex = /{{tr:(.+)}}/\nconst imgRegex = /\\[\\[img:(.+)\\]\\]\\[\\[\\/img\\]\\]/\nconst locUIEffectRegex = /\\[\\[col:(green|red)\\]\\](.+)\\[\\[\\/col\\]\\]/\nconst hiddenStats = [\"stat_in_combat_rage\", \"stat_out_combat_rage\"]\n\nexport default class TooltibAbilityService {\n    constructor(skill, data) {\n        this.skill = skill\n        this.data = data\n\n        this.ability = this.getAbility()\n        this.specialAbilityPhase = this.getSpecialAbilityPhase()\n        this.abilityPhase = this.getAbilityPhase()\n    }\n\n    getAbility() {\n        const skill = this.skill\n        const { bonusValueUnitAbilities, specialAbilities } = this.data\n        const abilityEffect = skill.effects.find(\n            ({ effect_key }) =>\n                !effect_key.includes(\"replace\") && !effect_key.includes(\"level_up_health\")\n        )\n\n        const bonusValueUnitAbility = bonusValueUnitAbilities.edges.find(\n            ({ node }) => node.effect === abilityEffect.effect_key\n        )\n\n        if (!bonusValueUnitAbility) {\n            return\n        }\n\n        return specialAbilities.nodes.find(\n            node => node.key === bonusValueUnitAbility.node.unit_ability\n        )\n    }\n\n    getUnitAbility() {\n        const { unitAbilities } = this.data\n        return unitAbilities.nodes.find(node => node.key === this.ability.key)\n    }\n\n    getSpecialAbilityPhase() {\n        const { allSpecialAbilityToSpecialAbilityPhaseJunctionsTablesTsv } = this.data\n        if (!this.ability) {\n            return\n        }\n\n        return allSpecialAbilityToSpecialAbilityPhaseJunctionsTablesTsv.nodes.find(\n            node => node.special_ability === this.ability.key\n        )\n    }\n\n    getAbilityPhase() {\n        const { allSpecialAbilityPhasesTablesTsv } = this.data\n        if (!this.specialAbilityPhase) {\n            return\n        }\n\n        return allSpecialAbilityPhasesTablesTsv.nodes.find(\n            node => node.id === this.specialAbilityPhase.phase\n        )\n    }\n\n    getLocalisedSourceType(unitAbility) {\n        const { locUnitAbilitySourceType } = this.data\n        const loc = locUnitAbilitySourceType.edges.find(\n            ({ node }) => node.key === `unit_ability_source_types_name_${unitAbility.source_type}`\n        )\n\n        return loc ? loc.node.text : \"\"\n    }\n\n    getLocalisedAbilityName() {\n        const ability = this.ability\n        const { locAbilities, allUiTextReplacementsLocTsv } = this.data\n\n        let localisedAbilityName = locAbilities.edges.find(\n            ({ node }) => node.key === `unit_abilities_onscreen_name_${ability.key}`\n        ).node.text\n\n        if (textReplacementRegex.test(localisedAbilityName)) {\n            const [, textReplacementKey] = localisedAbilityName.match(textReplacementRegex) || []\n            const textReplacement = allUiTextReplacementsLocTsv.nodes.find(\n                node => node.key === textReplacementKey\n            )\n            if (textReplacement) {\n                localisedAbilityName = textReplacement.text\n            }\n        }\n\n        return localisedAbilityName\n    }\n\n    getTargetValues() {\n        const ability = this.ability\n        const results = []\n        const numEffectedEnemyUnits = Number(ability.num_effected_enemy_units)\n        const numEffectedFriendlyUnits = Number(ability.num_effected_friendly_units)\n        const targetInterceptRange = Number(ability.target_intercept_range)\n\n        if (ability.affect_self === \"true\") {\n            results.push(\"Self\")\n        }\n\n        if (ability.target_enemies === \"true\") {\n            results.push(\"Enemy\")\n        }\n\n        if (ability.ai_usage === \"hex_melee_area_self\") {\n            results.push(\"Around self\")\n        }\n\n        if (numEffectedFriendlyUnits === -1) {\n            results.push(\"Affects allies in range\")\n        }\n\n        if (numEffectedEnemyUnits === -1) {\n            results.push(\"Affects enemies in range\")\n        }\n\n        if (targetInterceptRange !== 0 && ability.ai_usage !== \"hex_melee_area_self\") {\n            results.push(\n                <span>\n                    <img\n                        className=\"tooltip-ability-effect-icon\"\n                        src={withPrefix(\"ui/skins/default/icon_distance_to_target.png\")}\n                        alt=\"Distance to Target\"\n                    />\n                    {targetInterceptRange}m\n                </span>\n            )\n        }\n\n        return results\n    }\n\n    mapSpecialAbilityPhaseStatEffects() {\n        const abilityPhase = this.abilityPhase\n        const { locUnitStatLocalisations } = this.data\n        return node => {\n            const loc = locUnitStatLocalisations.nodes.find(\n                l => l.key === `unit_stat_localisations_onscreen_name_${node.stat}`\n            )\n            node.loc = loc\n\n            let value = Number(node.value)\n            value = node.how === \"mult\" ? value * 100 - 100 : value\n            value = value.toFixed(0)\n            const valueText = `${value < 0 ? \"\" : \"+\"}${value}${node.how === \"mult\" ? \"%\" : \"\"}`\n\n            node.positive = abilityPhase.effect_type === \"positive\"\n            node.content = [valueText, this.replaceInlineIcon(loc.text)]\n            return node\n        }\n    }\n\n    getAdditionalUIEffectsStats() {\n        const { skill, ability, specialAbilityPhase } = this\n\n        const {\n            allUnitAbilitiesToAdditionalUiEffectsJuncsTablesTsv,\n            locAdditionalUIEffects\n        } = this.data\n\n        const additionalUIEffects = allUnitAbilitiesToAdditionalUiEffectsJuncsTablesTsv.nodes.filter(\n            node =>\n                node.ability === skill.character_skill_key ||\n                node.ability === ability.key ||\n                (specialAbilityPhase ? node.ability === specialAbilityPhase.phase : false)\n        )\n\n        const uiEffects = [...new Set(additionalUIEffects.map(node => node.effect))]\n\n        return uiEffects.map(effect => {\n            const loc = locAdditionalUIEffects.nodes.find(\n                l => l.key === `unit_abilities_additional_ui_effects_localised_text_${effect}`\n            )\n            const [, colour, text] = loc.text.match(locUIEffectRegex) || []\n            const [, description] = text.split(imgRegex).slice(1)\n            const positive = colour === \"green\"\n            const iconClassname = positive ? \"arrow-up\" : \"arrow-down\"\n\n            return {\n                stat: effect,\n                positive,\n                content: (\n                    <span>\n                        <span className={iconClassname}></span> {description}\n                    </span>\n                )\n            }\n        })\n    }\n\n    getFatigueChangeStatEffect() {\n        const abilityPhase = this.abilityPhase\n        if (!abilityPhase) {\n            return\n        }\n\n        const fatigueChangeRatio = Number(abilityPhase.fatigue_change_ratio)\n        if (fatigueChangeRatio === 0) {\n            return\n        }\n\n        const value = (-fatigueChangeRatio * 100).toFixed(0)\n        const valueText = `${value < 0 ? \"\" : \"+\"}${value}%`\n\n        return {\n            stat: \"fatigue_change_ratio\",\n            positive: fatigueChangeRatio <= 0,\n            content: (\n                <span key=\"fatigue\">\n                    {valueText}{\" \"}\n                    <img\n                        className=\"tooltip-ability-effect-icon\"\n                        src={withPrefix(\"ui/skins/default/fatigue.png\")}\n                        alt=\"Fatigue\"\n                    />{\" \"}\n                    Stamina\n                </span>\n            )\n        }\n    }\n\n    getAbilityPhaseAttributes() {\n        const specialAbilityPhase = this.specialAbilityPhase\n        if (!specialAbilityPhase) {\n            return []\n        }\n\n        const { allSpecialAbilityPhaseAttributeEffectsTablesTsv, locUnitAttributes } = this.data\n\n        return allSpecialAbilityPhaseAttributeEffectsTablesTsv.nodes\n            .filter(node => node.phase === specialAbilityPhase.phase)\n            .map(attribute => {\n                const imbuedEffect = locUnitAttributes.nodes.find(\n                    node => node.key === `unit_attributes_imued_effect_text_${attribute.attribute}`\n                )\n                const bulletText = locUnitAttributes.nodes.find(\n                    node => node.key === `unit_attributes_bullet_text_${attribute.attribute}`\n                )\n\n                attribute.imbuedEffect = imbuedEffect\n                    ? this.replaceInlineIcon(imbuedEffect.text, { static: false })\n                    : \"\"\n\n                attribute.bulletText = bulletText ? bulletText.text : \"\"\n\n                const positive = attribute.attribute_type === \"positive\"\n\n                return {\n                    stat: attribute.attribute,\n                    positive,\n                    content: (\n                        <>\n                            <span className={positive ? \"arrow-up\" : \"arrow-down\"}></span>{\" \"}\n                            {attribute.imbuedEffect}\n                        </>\n                    ),\n                    ...attribute\n                }\n            })\n    }\n\n    replaceInlineIcon(text, options = { static: true }) {\n        const matches = text.match(imgRegex)\n        const isStatic = options.static\n        const img = matches && matches[1]\n        const splits = text\n            .split(imgRegex)\n            .map((s, i) => (\n                <span key={i}>\n                    {s === img\n                        ? isStatic\n                            ? this.getStaticImage(s)\n                            : this.getAbilityIconImage(s)\n                        : s}\n                </span>\n            ))\n        return splits\n    }\n\n    getStaticImage(img) {\n        img = /^ui\\//.test(img) ? img : `ui/skins/default/${img}.png`\n        return (\n            <img\n                className=\"tooltip-ability-effect-icon\"\n                src={withPrefix(img)}\n                alt={img}\n                style={{ marginBottom: 0 }}\n            />\n        )\n    }\n\n    getAbilityIconImage(img) {\n        const { allAbilityIconsImageSharp } = this.data\n        const sharpImg = allAbilityIconsImageSharp.nodes.find(\n            node => node.name === path.basename(img, \".png\")\n        )\n\n        if (!sharpImg) {\n            return\n        }\n\n        return (\n            <Img\n                fixed={sharpImg.childImageSharp.fixed}\n                Tag=\"span\"\n                style={{ width: \"1rem\", height: \"1rem\" }}\n                className=\"tooltip-ability-effect-icon\"\n            />\n        )\n    }\n\n    getAbilityPhasesStatEffects() {\n        const ability = this.ability\n        const {\n            allSpecialAbilityToSpecialAbilityPhaseJunctionsTablesTsv,\n            allSpecialAbilityPhasesTablesTsv,\n            allSpecialAbilityPhaseStatEffectsTablesTsv\n        } = this.data\n\n        const specialAbilityPhases = allSpecialAbilityToSpecialAbilityPhaseJunctionsTablesTsv.nodes.filter(\n            node => node.special_ability === ability.key\n        )\n\n        const abilityPhases = specialAbilityPhases.map(abilityPhase => {\n            return allSpecialAbilityPhasesTablesTsv.nodes.find(\n                node => node.id === abilityPhase.phase\n            )\n        })\n\n        return abilityPhases\n            .map(abilityPhase => {\n                return allSpecialAbilityPhaseStatEffectsTablesTsv.nodes.filter(\n                    node => node.phase === abilityPhase.id\n                )\n            })\n            .flat()\n            .filter(node => !hiddenStats.includes(node.stat))\n            .map(this.mapSpecialAbilityPhaseStatEffects())\n    }\n\n    getAbilityTooltipEffects() {\n        const { ability, specialAbilityPhase } = this\n        const fatigueChangeStatEffect = this.getFatigueChangeStatEffect()\n        const additionalUIEffectsStats = this.getAdditionalUIEffectsStats(\n            ability,\n            specialAbilityPhase\n        )\n        const abilityPhaseAttributes = this.getAbilityPhaseAttributes()\n        const abilityPhasesStatEffects = this.getAbilityPhasesStatEffects()\n\n        return additionalUIEffectsStats\n            .concat(fatigueChangeStatEffect ? fatigueChangeStatEffect : [])\n            .concat(abilityPhasesStatEffects)\n            .concat(abilityPhaseAttributes)\n    }\n\n    getAbilityBullets() {\n        const abilityPhaseAttributes = this.getAbilityPhaseAttributes()\n        return abilityPhaseAttributes.filter(attribute => attribute.bulletText !== \"\")\n    }\n}\n","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport SkillTooltipAbilityEffect from \"./skill-tooltip-ability-effect\"\nimport SkillTooltipAbilityBullets from \"./skill-tooltip-ability-bullets\"\nimport TooltipAbilityService from \"../../services/tooltip-ability-service.js\"\nimport \"../../styles/skill-tooltip-ability.scss\"\n\nexport default function SkillTooltipAbility({ skill }) {\n    const data = useStaticQuery(graphql`\n        query TooltipAbility {\n            bonusValueUnitAbilities: allEffectBonusValueUnitAbilityJunctionsTablesTsv {\n                totalCount\n                edges {\n                    node {\n                        effect\n                        unit_ability\n                        bonus_value_id\n                    }\n                }\n            }\n\n            specialAbilities: allUnitSpecialAbilitiesTablesTsv {\n                nodes {\n                    key\n                    active_time\n                    recharge_time\n                    num_uses\n                    effect_range\n                    affect_self\n                    num_effected_friendly_units\n                    num_effected_enemy_units\n                    initial_recharge\n                    activated_projectile\n                    target_friends\n                    target_enemies\n                    target_ground\n                    target_intercept_range\n                    targetting_aoe\n                    passive_aoe\n                    active_aoe\n                    ai_usage\n                    rage_cost\n                    cost_type\n                }\n            }\n\n            unitAbilities: allUnitAbilitiesTablesTsv {\n                nodes {\n                    key\n                    source_type\n                    icon_name\n                }\n            }\n\n            allSpecialAbilityPhaseStatEffectsTablesTsv {\n                nodes {\n                    phase\n                    value\n                    stat\n                    how\n                }\n            }\n\n            allSpecialAbilityPhaseAttributeEffectsTablesTsv {\n                nodes {\n                    phase\n                    attribute\n                    attribute_type\n                }\n            }\n\n            allSpecialAbilityPhasesTablesTsv {\n                nodes {\n                    id\n                    duration\n                    effect_type\n                    fatigue_change_ratio\n                    hp_change_frequency\n                    heal_amount_duplicate\n                    damage_chance\n                    damage_amount\n                    heal_amount\n                    freeze_fatigue\n                    recharge_time\n                    affects_allies\n                    affects_enemies\n                }\n            }\n\n            allUnitAbilitiesToAdditionalUiEffectsJuncsTablesTsv {\n                nodes {\n                    ability\n                    effect\n                }\n            }\n\n            allSpecialAbilityToSpecialAbilityPhaseJunctionsTablesTsv {\n                nodes {\n                    special_ability\n                    phase\n                    order\n                }\n            }\n\n            allUiTextReplacementsLocTsv {\n                nodes {\n                    key\n                    text\n                    tooltip\n                }\n            }\n\n            allAbilityIconsImageSharp: allFile(\n                filter: { relativeDirectory: { eq: \"ability_icons\" } }\n            ) {\n                totalCount\n                nodes {\n                    relativePath\n                    relativeDirectory\n                    ext\n                    extension\n                    name\n                    childImageSharp {\n                        fixed(width: 25) {\n                            originalName\n                            height\n                            width\n                            ...GatsbyImageSharpFixed\n                        }\n                        original {\n                            height\n                            width\n                        }\n                    }\n                }\n            }\n\n            locUnitAttributes: allUnitAttributesLocTsv {\n                nodes {\n                    key\n                    text\n                    tooltip\n                }\n            }\n\n            locAdditionalUIEffects: allUnitAbilitiesAdditionalUiEffectsLocTsv {\n                nodes {\n                    key\n                    text\n                    tooltip\n                }\n            }\n\n            locAbilities: allUnitAbilitiesLocTsv {\n                edges {\n                    node {\n                        id\n                        key\n                        text\n                        tooltip\n                    }\n                }\n            }\n\n            locUnitAbilitySourceType: allUnitAbilitySourceTypesLocTsv {\n                edges {\n                    node {\n                        key\n                        text\n                        tooltip\n                    }\n                }\n            }\n\n            locUnitStatLocalisations: allUnitStatLocalisationsLocTsv {\n                nodes {\n                    key\n                    text\n                    tooltip\n                }\n            }\n        }\n    `)\n\n    const service = new TooltipAbilityService(skill, data)\n    const ability = service.ability\n    if (!ability) {\n        return null\n    }\n\n    const abilityPhase = service.getAbilityPhase()\n\n    const unitAbility = service.getUnitAbility()\n    const localisedSourceType = service.getLocalisedSourceType(unitAbility)\n\n    const abilityTooltipEffects = service.getAbilityTooltipEffects()\n    const abilityBullets = service.getAbilityBullets()\n\n    const rechargeTime = Number(ability.recharge_time)\n    const activeTime = Number(ability.active_time)\n    const localisedAbilityName = service.getLocalisedAbilityName()\n    const targetValues = service.getTargetValues()\n\n    return (\n        <div className=\"skill-tooltip-ability\">\n            <div className=\"tooltip-ability-title\">\n                <h4 className=\"tooltip-ability-name\" title=\"foo\">\n                    {localisedAbilityName}\n                </h4>\n\n                {rechargeTime !== -1 ? (\n                    <div className=\"tooltip-ability-cooldown\">\n                        <span className=\"tooltip-ability-cooldown-icon\" />\n                        {rechargeTime}\n                    </div>\n                ) : (\n                    \"\"\n                )}\n            </div>\n\n            <h5 className=\"tooltip-ability-source-type\">{localisedSourceType}</h5>\n\n            <hr />\n\n            <div className=\"tooltip-ability-effects\">\n                {activeTime === -1 ? (\n                    <div className=\"tooltip-ability-effect\">\n                        <span className=\"tooltip-ability-effect-name\">Duration:</span>\n                        <span className=\"tooltip-ability-effect-value\">Constant</span>\n                    </div>\n                ) : (\n                    <SkillTooltipAbilityEffect\n                        ability={ability}\n                        prop=\"active_time\"\n                        label=\"Duration\"\n                        template=\"%d seconds\"\n                    />\n                )}\n\n                <div className=\"tooltip-ability-effect\">\n                    <span className=\"tooltip-ability-effect-name\">Target:</span>\n                    <div className=\"tooltip-ability-effect-value\">\n                        {targetValues.map((value, i) => (\n                            <p key={i}>{value}</p>\n                        ))}\n                    </div>\n                </div>\n\n                <SkillTooltipAbilityEffect\n                    ability={abilityPhase}\n                    prop=\"damage_amount\"\n                    label=\"Health cost\"\n                    template=\"%d\"\n                />\n\n                <SkillTooltipAbilityEffect\n                    ability={ability}\n                    prop=\"rage_cost\"\n                    label=\"Rage cost\"\n                    template={ability.cost_type === \"RAGE_PER_SEC\" ? \"%d per second\" : \"%d\"}\n                />\n\n                <SkillTooltipAbilityEffect\n                    ability={ability}\n                    prop=\"effect_range\"\n                    label=\"Effect range\"\n                    template=\"%dm\"\n                />\n\n                <div className=\"tooltip-ability-effect\">\n                    <span className=\"tooltip-ability-effect-name\">Effects:</span>\n                    <div className=\"tooltip-ability-effect-value\">\n                        {abilityTooltipEffects.map(effect => (\n                            <p\n                                key={effect.stat}\n                                data-stat={effect.stat}\n                                className={`tooltip-ability-effect-value-line ${\n                                    effect.positive ? \"positive\" : \"negative\"\n                                }`}\n                            >\n                                {effect.content}\n                            </p>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            <hr />\n\n            <SkillTooltipAbilityBullets\n                abilityBullets={abilityBullets}\n                unitAbility={unitAbility}\n                service={service}\n            />\n        </div>\n    )\n}\n","import React from \"react\"\nimport Img from \"gatsby-image\"\nimport ReactTooltip from \"react-tooltip\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport SkillTooltipAbility from \"./skill-tooltip-ability\"\nimport \"../../styles/skill-tooltip.scss\"\n\nconst SkillIcon = ({ skill, size = 70, transformationCoef = 0.79, offset }) => {\n    const data = useStaticQuery(graphql`\n        query AllTheStuff {\n            allEffectBonusValueUnitAbilityJunctionsTablesTsv {\n                totalCount\n                nodes {\n                    effect\n                    unit_ability\n                    bonus_value_id\n                }\n            }\n\n            allUnitAbilitiesTablesTsv {\n                nodes {\n                    key\n                    icon_name\n                }\n            }\n\n            allEffectBundlesImageSharp: allFile(\n                filter: { relativeDirectory: { eq: \"effect_bundles\" } }\n            ) {\n                totalCount\n                nodes {\n                    relativePath\n                    relativeDirectory\n                    ext\n                    extension\n                    name\n                    childImageSharp {\n                        fixed(width: 25) {\n                            originalName\n                            height\n                            width\n                            ...GatsbyImageSharpFixed\n                        }\n                        original {\n                            height\n                            width\n                        }\n                    }\n                }\n            }\n\n            allAbilityIconsImageSharp: allFile(\n                filter: { relativeDirectory: { eq: \"ability_icons\" } }\n            ) {\n                totalCount\n                nodes {\n                    relativePath\n                    relativeDirectory\n                    ext\n                    extension\n                    name\n                    childImageSharp {\n                        fixed(width: 25) {\n                            originalName\n                            height\n                            width\n                            ...GatsbyImageSharpFixed\n                        }\n                        original {\n                            height\n                            width\n                        }\n                    }\n                }\n            }\n        }\n    `)\n\n    if (!skill) {\n        return null\n    }\n\n    const {\n        allUnitAbilitiesTablesTsv,\n        allEffectBonusValueUnitAbilityJunctionsTablesTsv,\n        allEffectBundlesImageSharp,\n        allAbilityIconsImageSharp\n    } = data\n\n    let title = `${skill.skill.localised_name} -  ${skill.skill.localised_description}`\n    title += `\\n---\\n`\n    title += skill.effects\n        .map(effect => {\n            return effect.description\n        })\n        .join(\"\\n\")\n\n    const style = {\n        width: `${size}px`,\n        height: `${size}px`,\n        backgroundSize: \"contain\"\n    }\n\n    offset = offset || Math.ceil(size * 0.1)\n    const imgSize = Math.floor(size * transformationCoef)\n    const imgStyle = {\n        width: `${imgSize}px`,\n        height: `${imgSize}px`,\n        top: `${offset}px`,\n        left: `${offset}px`\n    }\n\n    if (!skill.img) {\n        return null\n    }\n\n    const indent = Number(skill.indent)\n    const tooltipDirection = indent <= 3 ? \"left\" : \"right\"\n\n    const effects = skill.effects\n        .filter(\n            node => !node.effect_key.includes(\"_replace\") && !node.description.includes(\"[HIDDEN]\")\n        )\n        .sort((a, b) => {\n            return a.effect_key.includes(\"level_up_health\") ? 1 : -1\n        })\n\n    return (\n        <div className=\"skill-icon-wrapper\">\n            <div data-tip={title} data-for={`skill-tooltip-${skill.key}`}>\n                <Img\n                    fixed={skill.img.fixed}\n                    className=\"skill-icon-img-wrapper\"\n                    style={style}\n                    imgStyle={imgStyle}\n                />\n            </div>\n\n            <ReactTooltip\n                className=\"skill-tooltip hidden\"\n                place={tooltipDirection}\n                id={`skill-tooltip-${skill.key}`}\n            >\n                <h4 className=\"tooltip-title\">{skill.skill.localised_name}</h4>\n                <div className=\"tooltip-content\">\n                    <p className=\"tooltip-description\">{skill.skill.localised_description}</p>\n                    <div className=\"tooltip-effects\">\n                        {effects.map(effect => {\n                            const isPositiveValueGood = effect.is_positive_value_good === \"true\"\n                            const value = Number(effect.value)\n                            const isPositiveEffect = isPositiveValueGood ? value >= 0 : value < 0\n\n                            let img = isPositiveEffect\n                                ? allEffectBundlesImageSharp.nodes.find(\n                                      node => effect.icon === `${node.name}${node.ext}`\n                                  )\n                                : allEffectBundlesImageSharp.nodes.find(\n                                      node => effect.icon_negative === `${node.name}${node.ext}`\n                                  )\n\n                            const bonusValueUnitAbility = allEffectBonusValueUnitAbilityJunctionsTablesTsv.nodes.find(\n                                node => node.effect === effect.effect_key\n                            )\n                            if (bonusValueUnitAbility) {\n                                const unitAbility = allUnitAbilitiesTablesTsv.nodes.find(\n                                    node => node.key === bonusValueUnitAbility.unit_ability\n                                )\n\n                                if (unitAbility) {\n                                    img = allAbilityIconsImageSharp.nodes.find(\n                                        node => node.name === unitAbility.icon_name\n                                    )\n                                }\n                            }\n\n                            return (\n                                <div\n                                    key={effect.effect_key}\n                                    className={`tooltip-effect ${\n                                        isPositiveEffect ? \"positive\" : \"negative\"\n                                    }`}\n                                >\n                                    {img ? <Img fixed={img.childImageSharp.fixed} /> : \"\"}\n                                    <span className=\"tooltip-effect-description\">\n                                        {effect.description}\n                                    </span>\n                                </div>\n                            )\n                        })}\n                    </div>\n                </div>\n\n                <SkillTooltipAbility skill={skill} />\n            </ReactTooltip>\n        </div>\n    )\n}\n\nexport default SkillIcon\n","import React from \"react\"\nimport SkillIcon from \"./skill-icon\"\n\nconst SkillSingle = ({ skills = [] }) => {\n    const skill = skills.find(s => Number(s.indent) === 3)\n    if (!skill) {\n        return null\n    }\n\n    return (\n        <div className=\"skill-single\">\n            <h3 className=\"skill-name skill-single-name\">{skill.skill.localised_name}</h3>\n            <div className=\"skill-card skill-single-card\">\n                <SkillIcon skill={skill} size={86} />\n            </div>\n        </div>\n    )\n}\n\nexport default SkillSingle\n","import React from \"react\"\nimport SkillIcon from \"./skill-icon\"\n\nconst indentAssociation = {\n    1: 2,\n    2: 1,\n    4: 5,\n    5: 4\n}\n\nconst SkillIndent = ({\n    skills,\n    indent,\n    isRightSkillShifted,\n    style = { width: \"38px\", height: \"38px\" }\n}) => {\n    if (!skills) {\n        return null\n    }\n\n    if (!indent) {\n        return null\n    }\n\n    indent = Number(indent)\n    if (isNaN(indent)) {\n        return null\n    }\n\n    const skill = skills.find(s => Number(s.indent) === indent)\n    if (!skill) {\n        return null\n    }\n\n    let className = `skill-indent skill-indent-${indent}`\n    let hasOnlyOneSpecSkill = false\n    if (indent !== 3 && indent !== 6) {\n        hasOnlyOneSpecSkill = !skills.find(s => Number(s.indent) === indentAssociation[indent])\n    }\n\n    if (hasOnlyOneSpecSkill) {\n        className += \" skill-indent-spec-only-skill\"\n    }\n\n    return (\n        <div className={className} data-skill-key={skill.key}>\n            <SkillIcon skill={skill} size={48} />\n        </div>\n    )\n}\n\nexport default SkillIndent\n","import React from \"react\"\nimport SkillIndent from \"./skill-indent\"\nimport SkillIcon from \"./skill-icon\"\n\nconst SkillPair = ({ skills }) => {\n    const leftSkill = skills.find(s => Number(s.indent) === 3)\n    let rightSkill = skills.find(s => Number(s.indent) === 6)\n\n    let isRightSkillShifted = false\n    if (!rightSkill) {\n        rightSkill = skills.find(s => Number(s.indent) === 4)\n        isRightSkillShifted = true\n    }\n\n    return (\n        <div className=\"skill-pair\">\n            <div className=\"skill-left\">\n                <h3 className=\"skill-name skill-pair-name\">{leftSkill.skill.localised_name}</h3>\n                <div className=\"skill-card\">\n                    <div className=\"skill-tier-spec\">\n                        <SkillIndent skills={skills} indent=\"1\" />\n                        <SkillIndent skills={skills} indent=\"2\" />\n                    </div>\n\n                    <SkillIcon skill={leftSkill} />\n                </div>\n            </div>\n            <div className=\"skill-right\">\n                <h3 className=\"skill-name skill-pair-name\">{rightSkill.skill.localised_name}</h3>\n                <div className=\"skill-card\">\n                    <SkillIcon skill={rightSkill} />\n\n                    <div className=\"skill-tier-spec\">\n                        {!isRightSkillShifted ? <SkillIndent skills={skills} indent=\"4\" /> : \"\"}\n                        <SkillIndent\n                            skills={skills}\n                            indent=\"5\"\n                            isRightSkillShifted={isRightSkillShifted}\n                        />\n                    </div>\n                </div>\n            </div>\n            <div className=\"skill-arrow\" />\n        </div>\n    )\n}\n\nexport default SkillPair\n","import React from \"react\"\nexport default function SkillColour({ skills, level }) {\n    const skill = skills[0]\n    if (!skill) {\n        return null\n    }\n\n    const colour = skill.skill.skill_colour || \"campaign\"\n    const className = `skill-colour-${colour}`\n\n    return (\n        <div className={`skill-colour-wrapper ${className}`}>\n            <div className={`skill-colour-bar`} />\n            <div className=\"skill-colour-level\">\n                <span>{level}</span>\n            </div>\n        </div>\n    )\n}\n","const textReplacementRegex = /{{tr:(.+)}}/\n\nexport default class CharacterSkillService {\n    constructor(data) {\n        this.data = data\n    }\n\n    getSkillNodeset(nodesetKey) {\n        const { allCharacterSkillNodeSetsTablesTsv } = this.data\n        return allCharacterSkillNodeSetsTablesTsv.nodes.find(node => node.key === nodesetKey)\n    }\n\n    getTextReplacement(text, prefix) {\n        const { allUiTextReplacementsLocTsv } = this.data\n\n        if (!textReplacementRegex.test(text)) {\n            return text\n        }\n\n        const [, textReplacementKey] = text.match(textReplacementRegex) || []\n        const textReplacement = allUiTextReplacementsLocTsv.nodes.find(\n            node => node.key === `${prefix}${textReplacementKey}`\n        )\n\n        return textReplacement ? textReplacement.text : text\n    }\n\n    getSkillNodes(agentSubtypeKey) {\n        const { allCharacterSkillNodesTablesTsv, allCharacterSkillNodeSetsTablesTsv } = this.data\n\n        const nodeset = allCharacterSkillNodeSetsTablesTsv.nodes.find(\n            node => node.agent_subtype_key === agentSubtypeKey\n        )\n        return allCharacterSkillNodesTablesTsv.nodes\n            .filter(node => node.character_skill_node_set_key === nodeset.key)\n            .sort((a, b) => {\n                const tier = (Number(a.tier) - Number(b.tier)) * 100\n                const indent = Number(a.indent) - Number(b.indent)\n\n                return tier + indent\n            })\n    }\n\n    mapCharacterSkillLevelToEffects() {\n        const { allEffectsLocTsv, allEffectsTablesTsv } = this.data\n\n        return effect => {\n            const loc = allEffectsLocTsv.nodes.find(\n                node => node.key === `effects_description_${effect.effect_key}`\n            )\n\n            const effectData = allEffectsTablesTsv.nodes.find(\n                node => node.effect === effect.effect_key\n            )\n\n            const effectValue = Number(effect.value)\n            let text = loc ? loc.text : \"\"\n\n            text = this.getTextReplacement(text, \"ui_text_replacements_localised_text_\")\n\n            effect.description = text.replace(/%\\+n/, `${effectValue < 0 ? \"\" : \"+\"}${effectValue}`)\n\n            return {\n                ...effect,\n                ...effectData\n            }\n        }\n    }\n\n    getSkillsForTier(items) {\n        const {\n            allCharacterSkillsTableTsv,\n            allCharacterSkillLevelToEffectsJunctionsTablesTsv,\n            allImageSharp\n        } = this.data\n\n        return items.map(item => {\n            const skill = allCharacterSkillsTableTsv.nodes.find(\n                node => node.key === item.character_skill_key\n            )\n\n            if (!skill) {\n                return item\n            }\n\n            const effects = allCharacterSkillLevelToEffectsJunctionsTablesTsv.nodes\n                .filter(node => node.character_skill_key === skill.key)\n                .map(this.mapCharacterSkillLevelToEffects())\n\n            skill.localised_name = this.getTextReplacement(\n                skill.localised_name,\n                \"ui_text_replacements_localised_text_\"\n            )\n\n            item.skill = skill\n            item.img = item.effects = effects\n\n            const img = allImageSharp.nodes.find(\n                node => node.childImageSharp.fixed.originalName === skill.image_path\n            )\n\n            item.img = img ? img.childImageSharp : null\n            return item\n        })\n    }\n\n    getSkillRows(agentSubtypeKey) {\n        const nodes = this.getSkillNodes(agentSubtypeKey)\n\n        const tree = {}\n        nodes.forEach(node => {\n            const { tier } = node\n            tree[tier] = tree[tier] || []\n            tree[tier].push(node)\n        })\n\n        const rows = []\n        Object.keys(tree).forEach(tier => {\n            const items = tree[tier]\n            const skills = this.getSkillsForTier(items)\n            rows.push(skills)\n        })\n\n        return rows\n    }\n}\n","import React, { useState } from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Layout from \"../components/layout\"\nimport SkillSingle from \"../components/skills/skill-single\"\nimport SkillPair from \"../components/skills/skill-pair\"\nimport SkillColour from \"../components/skills/skill-colour\"\nimport SEO from \"../components/seo\"\nimport AgentSubtypeService from \"../services/agent-subtype-service\"\nimport \"../styles/character-skills.scss\"\nimport CharacterSkillService from \"../services/character-skill-service\"\n\nexport default function CharacterSkills({ data, pageContext }) {\n    const agentSubtypeKey = pageContext.agent_subtype_key\n\n    const service = new AgentSubtypeService()\n    const characterSkillService = new CharacterSkillService(data)\n    const nodeset = characterSkillService.getSkillNodeset(pageContext.key)\n    const rows = characterSkillService.getSkillRows(agentSubtypeKey)\n\n    const [isRawHidden, setIsRawHidden] = useState(true)\n    const [buttonValue, setButtonValue] = useState(\"See raw content\")\n\n    const onRawContentClick = ev => {\n        ev.preventDefault()\n        const isHidden = !isRawHidden\n        setIsRawHidden(isHidden)\n        setButtonValue(!isHidden ? \"Hide raw content\" : \"See raw content\")\n    }\n\n    const jsonClassname = isRawHidden ? \"hidden\" : \"\"\n    const category = service.getCategoryForSkillNodeset(nodeset)\n    const title = `${service.getOnScreenName(agentSubtypeKey)} (${category})`\n    const porthole = service.getPorthole(agentSubtypeKey)\n\n    console.log(rows)\n\n    return (\n        <Layout>\n            <SEO title={title} />\n            <h2>{title}</h2>\n\n            <Link to=\"/\">Return to list</Link>\n\n            <div className=\"character-frame\">\n                <div className=\"character-portrait-frame\">\n                    <div className=\"character-portrait-ornament\">\n                        <div className=\"character-portrait-ornament-left\" />\n                        <div className=\"character-portrait-ornament-basic\" />\n                        <div className=\"character-portrait-ornament-right\" />\n                    </div>\n                    <div className=\"character-portrait\">\n                        <Img fixed={porthole.childImageSharp.fixed} />\n                    </div>\n                    <div className=\"character-portrait-ornament\">\n                        <div className=\"character-portrait-ornament-left\" />\n                        <div className=\"character-portrait-ornament-basic\" />\n                        <div className=\"character-portrait-ornament-right\" />\n                    </div>\n                </div>\n                <div className=\"character-skills-frame\">\n                    <div className=\"character-skills-points-holder\"></div>\n                    <div className=\"character-skills\">\n                        {rows.map((row, i) => {\n                            if (!row.length) {\n                                return null\n                            }\n\n                            const visibleInUI = row.find(skill => skill.visible_in_ui === \"true\")\n\n                            if (!visibleInUI) {\n                                return null\n                            }\n\n                            const isSingleSkill = row.length === 1\n\n                            const tier = Number(row[0].tier)\n\n                            return (\n                                <div className=\"skill-tier\" key={`skill-tier-${i}`} id={`tier-${tier}`}>\n                                    <SkillColour skills={row} level={i + 1} />\n\n                                    {isSingleSkill ? (\n                                        <SkillSingle skills={row} />\n                                    ) : (\n                                        <SkillPair skills={row} />\n                                    )}\n                                </div>\n                            )\n                        })}\n                    </div>\n                </div>\n            </div>\n\n            <button onClick={onRawContentClick}>{buttonValue}</button>\n            <pre className={jsonClassname}>{JSON.stringify(rows, null, 4)}</pre>\n        </Layout>\n    )\n}\n\nexport const query = graphql`\n    query {\n        allAgentsSubtypesTablesTsv {\n            nodes {\n                key\n                auto_generate\n                small_icon\n                associated_unit_override\n                show_in_ui\n                can_gain_xp\n                loyalty_is_applicable\n            }\n        }\n\n        allCharacterSkillNodeSetsTablesTsv {\n            nodes {\n                agent_key\n                agent_subtype_key\n                campaign_key\n                faction_key\n                for_army\n                for_navy\n                id\n                key\n                subculture\n            }\n        }\n\n        allCharacterSkillNodesTablesTsv {\n            totalCount\n            nodes {\n                key\n                character_skill_key\n                tier\n                indent\n                campaign_key\n                character_skill_node_set_key\n                faction_key\n                points_on_creation\n                required_num_parents\n                subculture\n                visible_in_ui\n            }\n        }\n\n        allCharacterSkillsTableTsv {\n            totalCount\n            nodes {\n                key\n                image_path\n                unlocked_at_rank\n                localised_name\n                localised_description\n                background_weighting\n                is_background_skill\n                is_female_only_background_skill\n                is_male_only_background_skill\n                influence_cost\n                skill_colour\n            }\n        }\n\n        allEffectsTablesTsv {\n            totalCount\n            nodes {\n                effect\n                icon\n                priority\n                icon_negative\n                category\n                is_positive_value_good\n            }\n        }\n\n        allCharacterSkillLevelToEffectsJunctionsTablesTsv {\n            totalCount\n            nodes {\n                character_skill_key\n                effect_key\n                effect_scope\n                level\n                value\n            }\n        }\n\n        allImageSharp: allFile(filter: { relativeDirectory: { eq: \"skills/large\" } }) {\n            totalCount\n            nodes {\n                relativePath\n                relativeDirectory\n                childImageSharp {\n                    fixed(width: 88) {\n                        originalName\n                        height\n                        width\n                        ...GatsbyImageSharpFixed\n                    }\n                    original {\n                        height\n                        width\n                    }\n                }\n            }\n        }\n\n        allEffectsLocTsv {\n            nodes {\n                key\n                text\n                tooltip\n            }\n        }\n\n        allUiTextReplacementsLocTsv {\n            nodes {\n                key\n                text\n                tooltip\n            }\n        }\n    }\n`\n"],"sourceRoot":""}